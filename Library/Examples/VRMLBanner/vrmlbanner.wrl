#VRML V2.0 utf8

#Cosmo PageFX V1.0

PROTO f [
  eventIn  SFTime h
  eventOut SFTime i
  eventOut SFTime j
]
{
  DEF k_0 Script {
    eventIn  SFTime l
    eventIn  SFTime h IS h
    eventOut SFTime i IS i
    eventOut SFTime m
    eventOut SFTime j IS j

    url "javascript:
function initialize(){
m=0;
}
function l(n,time){
j=time;
}
function h(n,time){
i=time;
}"
    directOutput TRUE
  }

  ROUTE k_0.m TO k_0.l
}

PROTO o [
  eventIn      SFBool   set_p
  eventIn      SFFloat  set_transparency
  eventIn      SFColor  set_diffuseColor
  eventIn      SFColor  set_emissiveColor
  eventIn      SFColor  set_specularColor
  eventIn      SFFloat  set_shininess
  eventIn      SFVec2f  set_q
  eventIn      SFFloat  set_s
  eventIn      SFVec2f  set_t
  eventIn      SFVec2f  set_u
  eventIn      SFNode   set_v
  eventIn      MFString set_url
  eventIn      SFBool   w
  eventOut     SFBool   p_changed
  eventOut     SFFloat  transparency_changed
  eventOut     SFColor  diffuseColor_changed
  eventOut     SFColor  emissiveColor_changed
  eventOut     SFColor  specularColor_changed
  eventOut     SFFloat  shininess_changed
  eventOut     SFVec2f  q_changed
  eventOut     SFFloat  s_changed
  eventOut     SFVec2f  t_changed
  eventOut     SFVec2f  u_changed
  eventOut     SFNode   v_changed
  eventOut     MFString url_changed
  eventOut     MFNode   A_changed
  exposedField SFNode   B NULL
  exposedField MFNode   C [ ]
  exposedField SFNode   D NULL
  exposedField SFInt32  F -1
  exposedField SFBool   G FALSE
  field        MFNode   children [ ]
  field        SFBool   H TRUE
  field        SFBool   p TRUE
  field        MFNode   A [ ]
]
{
  Group {
    children IS children
  }

  DEF I Script {
    eventIn  SFBool   set_p IS set_p
    eventIn  SFFloat  set_transparency IS set_transparency
    eventIn  SFColor  set_diffuseColor IS set_diffuseColor
    eventIn  SFColor  set_emissiveColor IS set_emissiveColor
    eventIn  SFColor  set_specularColor IS set_specularColor
    eventIn  SFFloat  set_shininess IS set_shininess
    eventIn  SFVec2f  set_q IS set_q
    eventIn  SFFloat  set_s IS set_s
    eventIn  SFVec2f  set_t IS set_t
    eventIn  SFVec2f  set_u IS set_u
    eventIn  MFString set_url IS set_url
    eventIn  SFNode   set_v IS set_v
    eventIn  SFBool   w IS w
    eventOut SFBool   p_changed IS p_changed
    eventOut SFFloat  transparency_changed IS transparency_changed
    eventOut SFColor  diffuseColor_changed IS diffuseColor_changed
    eventOut SFColor  emissiveColor_changed IS emissiveColor_changed
    eventOut SFColor  specularColor_changed IS specularColor_changed
    eventOut SFFloat  shininess_changed IS shininess_changed
    eventOut SFVec2f  q_changed IS q_changed
    eventOut SFFloat  s_changed IS s_changed
    eventOut SFVec2f  t_changed IS t_changed
    eventOut SFVec2f  u_changed IS u_changed
    eventOut MFString url_changed IS url_changed
    eventOut SFNode   v_changed IS v_changed
    eventOut MFNode   A_changed IS A_changed
    field    SFBool   p IS p
    field    MFNode   A IS A

    url "javascript:
function set_p(n){
for(J=0;J<A.length;J++){
A[J].set_p=n;
}
p=n;
p_changed=n;
}
function initialize(){
p_changed=p;
A_changed=A;
}
function set_diffuseColor(n){
for(J=0;J<A.length;J++){
A[J].set_diffuseColor=n;
}
diffuseColor_changed=n;
}
function set_specularColor(n){
for(J=0;J<A.length;J++){
A[J].set_specularColor=n;
}
specularColor_changed=n;
}
function set_emissiveColor(n){
for(J=0;J<A.length;J++){
A[J].set_emissiveColor=n;
}
emissiveColor_changed=n;
}
function set_transparency(n){
for(J=0;J<A.length;J++){
A[J].set_transparency=n;
}
transparency_changed=n;
}
function set_shininess(n){
for(J=0;J<A.length;J++){
A[J].set_shininess=n;
}
shininess_changed=n;
}
function set_q(n){
for(J=0;J<A.length;J++){
A[J].set_q=n;
}
q_changed=n;
}
function set_u(n){
for(J=0;J<A.length;J++){
A[J].set_u=n;
}
u_changed=n;
}
function set_t(n){
for(J=0;J<A.length;J++){
A[J].set_t=n;
}
t_changed=n;
}
function set_s(n){
for(J=0;J<A.length;J++){
A[J].set_s=n;
}
s_changed=n;
}
function set_url(n){
for(J=0;J<A.length;J++){
A[J].set_url=n;
}
url_changed=n;
}
function set_v(n){
for(J=0;J<A.length;J++){
A[J].set_v=n;
}
v_changed=n;
}
function w(){
}
"
    directOutput TRUE
  }
}

PROTO K [
  eventIn      SFFloat set_transparency
  eventIn      SFFloat set_intensity
  eventIn      SFBool  w
  eventOut     SFFloat transparency_changed
  eventOut     SFFloat intensity_changed
  exposedField SFBool  p TRUE
  exposedField SFColor diffuseColor 1 1 1
  exposedField SFNode  B NULL
  exposedField MFNode  C [ ]
  exposedField SFNode  D NULL
  exposedField SFInt32 F -1
  field        SFInt32 type 0
  field        SFFloat radius 1000
  field        SFFloat L 0
  field        SFVec3f attenuation 1 0 0
  field        SFVec3f direction 0 0 -1
  field        SFFloat beamWidth 0.131
  field        SFFloat cutOffAngle 1.57
  field        SFFloat intensity 1
  field        MFNode  M [ ]
]
{
  Group {
    children [
      Switch {
        whichChoice IS type
        choice [
          DEF N_1 PointLight {
            on IS p
            color IS diffuseColor
            radius IS radius
            intensity IS intensity
            attenuation IS attenuation
          }
          DEF O_2 SpotLight {
            on IS p
            color IS diffuseColor
            direction IS direction
            intensity IS intensity
            beamWidth IS beamWidth
            cutOffAngle IS cutOffAngle
            attenuation IS attenuation
          }
        ]
      }
      Group {
        children IS M
      }
    ]
  }

  DEF P_3 Script {
    eventIn  SFFloat set_transparency IS set_transparency
    eventIn  SFFloat set_intensity IS set_intensity
    eventIn  SFBool  w IS w
    eventOut SFFloat intensity_changed IS intensity_changed
    eventOut SFFloat transparency_changed IS transparency_changed
    field    SFFloat intensity IS intensity

    url "javascript:
function set_transparency(n){
intensity=1-n;
intensity_changed=intensity;
transparency_changed=n;
}
function set_intensity(n){
intensity=n;
intensity_changed=n;
transparency_changed=1-n;
}
function w(){
}
"
    directOutput TRUE
  }

  ROUTE P_3.intensity_changed TO N_1.set_intensity
  ROUTE P_3.intensity_changed TO O_2.set_intensity
}

PROTO Q [
  eventIn      SFTime     R
  eventIn      SFTime     S
  eventIn      SFFloat    set_fraction
  eventOut     SFTime     R_changed
  exposedField SFVec3f    translation 0 0 0
  exposedField SFVec3f    scale 1 1 1
  exposedField SFVec3f    center 0 0 0
  exposedField SFBool     T TRUE
  exposedField SFRotation rotation 0 0 1 0
  exposedField SFRotation scaleOrientation 0 0 1 0
  field        SFNode     U NULL
  field        MFNode     children [ ]
  field        SFBool     V FALSE
  field        SFInt32    W 0
]
{
  DEF X_4 Transform {
    translation IS translation
    rotation IS rotation
    scale IS scale
    scaleOrientation IS scaleOrientation
    center IS center
    children IS children
  }

  DEF Y_5 Script {
    eventIn  SFTime     R IS R
    eventIn  SFTime     S IS S
    eventIn  SFFloat    set_fraction IS set_fraction
    eventOut SFTime     R_changed IS R_changed
    eventOut SFRotation Z_changed
    field    SFNode     U IS U
    field    SFBool     V IS V
    field    SFInt32    W IS W
    field    SFBool     aa FALSE
    field    SFRotation Z 0 0 1 0
    field    SFFloat    ba 0
    field    SFFloat    ca 0
    field    SFBool     da TRUE
    field    SFTime     ea 0
    field    SFTime     fa 0

    url "javascript:
function initialize(){
aa=FALSE;
if(W==0){
Z[0]=1.;
Z[1]=0.;
Z[2]=0.;
return;
}
if(W==1){
Z[0]=0.;
Z[1]=1.;
Z[2]=0.;
return;
}
if(W==2){
Z[0]=0.;
Z[1]=0.;
Z[2]=1.;
return;
}
}
function R(n){
if(fa==n){
return;
}
if(aa==TRUE){
ea=n;
return;
}
aa=TRUE;
da=TRUE;
R_changed=n;
fa=n;
}
function S(n){
aa=FALSE;
if(ea==n){
R(n);
}
}
function set_fraction(n){
if(da){
ba=n;
da=FALSE;
}else if(n<ca){
ba=(1.0-ca)+n;
}else{
ba=n-ca;
}
ca=n;
if(V==TRUE)Z[3]-=2.*Math.PI*ba;
else Z[3]+=2.*Math.PI*ba;
Z_changed=Z;
}
"
    directOutput TRUE
  }

  ROUTE Y_5.Z_changed TO X_4.set_rotation
}

PROTO ga [
  eventIn      SFBool   set_p
  eventIn      SFBool   w
  eventIn      SFNode   set_v
  eventOut     SFBool   p_changed
  eventOut     SFNode   v_changed
  exposedField MFString url [ ]
  exposedField SFFloat  transparency 0
  exposedField SFColor  diffuseColor 0 0.48 0.8
  exposedField SFColor  emissiveColor 0 0.09 0.15
  exposedField SFColor  specularColor 0.5 0.5 0.5
  exposedField SFFloat  shininess 0.2
  exposedField SFVec2f  q -0.5 -0.5
  exposedField SFFloat  s 0
  exposedField SFVec2f  t 1 1
  exposedField SFVec2f  u 0 0
  exposedField SFNode   B NULL
  exposedField MFNode   C [ ]
  exposedField SFNode   D NULL
  exposedField SFInt32  F -1
  field        SFBool   p TRUE
  field        SFNode   geometry NULL
  field        SFInt32  choice 0
  field        SFVec3f  ha 0 0 0.5
]
{
  DEF ia_6 Switch {
    whichChoice IS choice
    choice Shape {
      appearance DEF ja_7 Appearance {
        material Material {
          diffuseColor IS diffuseColor
          specularColor IS specularColor
          emissiveColor IS emissiveColor
          shininess IS shininess
          transparency IS transparency
        }
        texture ImageTexture {
          url IS url
        }
        textureTransform TextureTransform {
          translation IS u
          rotation IS s
          scale IS t
          center IS q
        }
      }
      geometry IS geometry
    }
  }

  DEF ka Script {
    eventIn  SFBool set_p IS set_p
    eventIn  SFBool w IS w
    eventIn  SFNode set_v IS set_v
    eventOut SFBool p_changed IS p_changed
    eventOut SFNode v_changed IS v_changed
    field    SFBool p IS p
    field    SFNode la USE ja_7
    field    SFNode ma USE ia_6

    url "javascript:
function set_p(n){
if(n==TRUE){
ma.whichChoice=0;
}else{
ma.whichChoice=-1;
}
p=n;
p_changed=n;
}
function initialize(){
v_changed=la.texture_changed;
set_p(p);
}
function set_v(n){
la.set_texture=n;
v_changed=n;
}
function w(){
}
"
    directOutput TRUE
  }
}

PROTO na [
  eventIn  SFBool  set_enabled
  eventOut SFBool  isOver
  eventOut SFBool  isActive
  eventOut SFVec3f hitPoint_changed
  eventOut SFVec2f hitTexCoord_changed
  field    SFInt32 oa 0
]
{
  DEF pa_8 TouchSensor {
    enabled FALSE
    hitTexCoord_changed IS hitTexCoord_changed
    hitPoint_changed IS hitPoint_changed
    isOver IS isOver
    isActive IS isActive
  }

  DEF qa_9 Script {
    eventIn  SFBool  set_enabled IS set_enabled
    eventOut SFBool  enabled_changed
    field    SFInt32 oa IS oa

    url "javascript:
function initialize(){
if(oa>0){
enabled_changed=TRUE;
}
}
function set_enabled(n){
if(n==TRUE){
if(oa==0){
enabled_changed=TRUE;
}
oa++;
}else{
if(oa==1){
enabled_changed=FALSE;
}
if(oa>0){
oa--;
}
}
}"
    directOutput TRUE
  }

  ROUTE qa_9.enabled_changed TO pa_8.set_enabled
}

PROTO ra [
  eventIn  SFTime  R
  eventIn  SFTime  S
  eventIn  SFTime  sa
  eventIn  SFTime  ta
  eventOut SFFloat fraction
  eventOut SFFloat ua
  eventOut SFFloat va
  eventOut SFTime  wa_changed
  eventOut SFTime  xa_changed
  eventOut SFVec2f ya_changed
  eventOut SFTime  startTime
  eventOut SFTime  stopTime
  eventOut SFTime  za
  eventOut SFTime  Aa
  eventOut SFTime  Ba
  field    SFTime  cycleInterval 2
  field    SFTime  Ca 0
  field    SFBool  Da TRUE
  field    SFTime  xa 5
  field    SFTime  Ea 0
  field    SFTime  Fa 0
  field    SFTime  Ga 0
  field    SFBool  Ha FALSE
  field    SFInt32 direction 0
  field    SFBool  loop TRUE
  field    SFBool  Ia FALSE
  field    SFBool  Ja TRUE
  field    SFBool  Ka FALSE
]
{
  DEF La_10 TimeSensor {
    enabled FALSE
    cycleInterval IS cycleInterval
    loop TRUE
    startTime 1
  }

  DEF Ma_11 Script {
    eventIn  SFTime  R IS R
    eventIn  SFTime  S IS S
    eventIn  SFFloat set_fraction
    eventIn  SFTime  sa IS sa
    eventIn  SFTime  ta IS ta
    eventOut SFFloat fraction IS fraction
    eventOut SFFloat ua IS ua
    eventOut SFFloat va IS va
    eventOut SFTime  wa_changed IS wa_changed
    eventOut SFTime  xa_changed IS xa_changed
    eventOut SFVec2f ya_changed IS ya_changed
    eventOut SFTime  startTime IS startTime
    eventOut SFTime  stopTime IS stopTime
    eventOut SFTime  za IS za
    eventOut SFTime  Aa IS Aa
    eventOut SFTime  cycleInterval_changed
    eventOut SFBool  Na
    eventOut SFTime  Oa
    eventOut SFTime  Pa
    eventOut SFTime  Ba IS Ba
    field    SFBool  da TRUE
    field    SFFloat Qa 0
    field    SFTime  Ra 0
    field    SFInt32 direction IS direction
    field    SFFloat Sa 0
    field    SFBool  Ja IS Ja
    field    SFBool  loop IS loop
    field    SFBool  Ia IS Ia
    field    SFTime  cycleInterval IS cycleInterval
    field    SFTime  Ca IS Ca
    field    SFBool  Da IS Da
    field    SFTime  xa IS xa
    field    SFTime  Ea IS Ea
    field    SFTime  Fa IS Fa
    field    SFTime  Ga IS Ga
    field    SFTime  Ta 0
    field    SFBool  Ha IS Ha
    field    SFTime  Ua 0
    field    SFTime  Va 0
    field    SFVec2f ya 0 0
    field    SFBool  Ka IS Ka

    url "javascript:
function Wa(){
var Xa=Math.random();
Va=
(cycleInterval-Ca)*(1-Xa)+
(cycleInterval+Ca)*Xa;
cycleInterval_changed=Va;
}
function Ya(){
var Xa=Math.random();
Ua=(xa-Ea)*(1-Xa)+
(xa+Ea)*Xa;
}
function initialize(){
if(direction==2){
cycleInterval*=2;
Ca*=2;
cycleInterval_changed=cycleInterval;
}
Wa();
if(Da==TRUE){
Ya();
}else{
Ua=-1;
}
if(Ka==FALSE){
Na=FALSE;
}else{
R(1,1);
}
}
function R(n,Za){
da=TRUE;
if((Ja==TRUE)||
((Ua>0)&&(ua==1))){
Sa=0;
if(Ca>0){
Wa();
}else{
Va=cycleInterval;
}
if(Da==TRUE){
if(Ea>0){
Ya();
}else{
Ua=xa;
}
}
}
ya[0]=Ua;
ya[1]=Va;
xa_changed=ya[0];
wa_changed=ya[1];
ya_changed=ya;
Na=TRUE;
startTime=Za;
Oa=Za;
}
function S(n,Za){
if((Ha==TRUE)||(Ga==0)){
Na=FALSE;
stopTime=Za;
}else{
Ta=Za;
}
}
function sa(n,Za){
if(Na==TRUE){
Na=FALSE;
stopTime=Za;
}
Ba=Za;
}
function ta(n,Za){
xa=n;
if(xa<(Fa+Ga)){
xa=Fa+Ga;
}
xa_changed=xa;
Ua=xa;
}
function ab(n,Za){
Na=FALSE;
stopTime=Za;
Ta=0;
va=0;
}
function bb(n,Za){
Na=FALSE;
stopTime=Za;
Ta=0;
va=0;
}
function cb(n,Za){
Na=FALSE;
stopTime=Ra+Ua;
if((Ca==0)&&
(Ea==0)){
var db=Ua;
while(db>cycleInterval){
db-=cycleInterval;
}
var eb=db/cycleInterval;
if(db>cycleInterval){
eb=1;
}
if((Ia==FALSE)||
((Fa==0)&&
(Ga==0))){
if(direction==0){
fraction=eb;
}else if(direction==1){
fraction=1-eb;
}else{
if(eb>.5){
fraction=2*(1-eb);
}else{
fraction=2*eb;
}
}
}
}
if(Ua>0){
ua=1;
if(direction==1){
ua=1-ua;
}
}
Ta=0;
va=0;
}
function set_fraction(n,Za){
if(Na==FALSE){
return;
}
if(da==FALSE){
if((Fa>0)&&
((Za-Ra)<=Fa)){
if(Ta>0){
if(Za-Ta>=Ga){
ab(n,Za);
}else{
fb=1-((Za-Ta)/Ga);
if(fb>va){
va=va;
}else{
va=fb;
}
}
}else{
va=(Za-Ra)/Fa;
}
}else if((Ga>0)&&
(Ua>0)&&
((Za-Ra)>=(Ua-Ga))){
fb=((Ua-(Za-Ra))/Ga);
if(fb>va){
va=va;
}else{
va=fb;
}
}else if((Ga>0)&&
(loop==FALSE)&&
((Za-Ra)>=(cycleInterval_changed-Ga))){
if(Sa>0){
fb=((cycleInterval_changed-(Za-Ra))/Ga);
if(fb>va){
va=va;
}else{
va=fb;
}
}
}else if(Ta>0){
if(Za-Ta>=Ga){
ab(n,Za);
}else{
fb=1-((Za-Ta)/Ga);
if(fb>va){
va=va;
}else{
va=fb;
}
}
}else{
va=1;
}
}else{
va=0;
}
if(da==TRUE){
da=FALSE;
if(!Ja&&(Ua>0)&&
(ua>0)&&(ua<1)){
Ra=Ra+(Za-stopTime);
}else{
Ra=Za;
if((loop==TRUE)&&(Ja)){
za=Za;
}
}
}else{
if(n>Qa){
if(Ia==FALSE){
Sa=Sa+(n-Qa);
}else{
Sa=Sa+(n-Qa)*va;
}
}else{
if(Ia==FALSE){
Sa=Sa+(1-Qa)+n;
}else{
Sa=Sa+((1-Qa)+n)*va;
}
}
if(direction==0){
fraction=Sa;
if(fraction>=1){
if(loop==TRUE){
fraction=fraction-1;
}else{
fraction=1;
}
}
}else if(direction==1){
fraction=1-Sa;
if(fraction<=0){
if(loop==TRUE){
fraction=fraction+1;
}else{
fraction=0;
}
}
}else if(direction==2){
fraction=Sa;
if(fraction>=1){
if(loop==TRUE){
fraction=fraction-1;
}else{
fraction=1;
}
}
if(fraction>.5){
fraction=2*(1-fraction);
}else{
fraction=2*fraction;
}
}
if(Sa>=1){
if(loop==TRUE){
Sa-=1;
Aa=Za;
za=Aa;
}else{
Sa=0;
bb(n,Za);
}
}
}
if(Ua>0){
if((Za-Ra)>Ua){
cb(n,Za);
}else{
ua=(Za-Ra)/Ua;
if(direction==1){
ua=1-ua;
}
}
}
Qa=n;
}"
    directOutput TRUE
  }

  ROUTE Ma_11.Na TO La_10.set_enabled
  ROUTE Ma_11.Oa TO La_10.set_startTime
  ROUTE Ma_11.Pa TO La_10.set_stopTime
  ROUTE Ma_11.cycleInterval_changed TO La_10.set_cycleInterval
  ROUTE La_10.fraction_changed TO Ma_11.set_fraction
}

PROTO gb [
  eventIn  SFTime  R
  eventIn  SFTime  S
  eventIn  SFFloat set_fraction
  eventOut SFTime  R_changed
  field    SFNode  U NULL
  field    SFInt32 direction 0
  field    SFBool  hb FALSE
  field    SFBool  ib FALSE
]
{
  DEF jb Script {
    eventIn  SFTime  R IS R
    eventIn  SFTime  S IS S
    eventIn  SFFloat set_fraction IS set_fraction
    eventOut SFTime  R_changed IS R_changed
    field    SFNode  U IS U
    field    SFInt32 direction IS direction
    field    SFBool  aa FALSE
    field    MFVec2f kb [ ]
    field    SFFloat ba 0
    field    SFFloat ca 0
    field    SFBool  da TRUE
    field    SFTime  ea 0
    field    SFTime  fa 0
    field    SFBool  hb IS hb
    field    SFBool  ib IS ib
    field    SFInt32 lb 0
    field    MFNode  mb [ ]

    url "javascript:
function initialize(){
U.w=TRUE;
aa=FALSE;
}
function R(n){
if(ib&&!hb){
return;
}
if(fa==n){
return;
}
if(aa==TRUE){
ea=n;
return;
}
aa=TRUE;
da=TRUE;
if(hb==FALSE){
mb.length=1;
mb[0]=U;
}else{
mb=U.A_changed;
}
kb.length=mb.length;
for(lb=0;lb<mb.length;lb++){
kb[lb].x=mb[lb].u_changed.x;
kb[lb].y=mb[lb].u_changed.y;
}
R_changed=n;
fa=n;
}
function S(n){
aa=FALSE;
if(ea==n){
R(n);
}
}
function set_fraction(n){
if(ib&&!hb){
return;
}
if(da){
ba=n;
da=FALSE;
}else if(n<ca){
ba=(1.0-ca)+n;
}else{
ba=n-ca;
}
ca=n;
for(lb=0;lb<mb.length;lb++){
if(direction==0)kb[lb].y+=-ba;
if(direction==1)kb[lb].y+=ba;
if(direction==2)kb[lb].x+=ba;
if(direction==3)kb[lb].x+=-ba;
mb[lb].set_u=kb[lb];
}
}
"
    directOutput TRUE
  }
}

PROTO nb [
  eventIn  SFTime  ob
  eventIn  SFTime  pb
  eventIn  SFBool  qb
  eventIn  SFBool  rb
  eventIn  SFVec3f sb
  eventIn  SFVec2f tb
  eventOut SFTime  ub
  eventOut SFTime  vb
  eventOut SFTime  enterTime
  eventOut SFTime  exitTime
  eventOut SFTime  wb
  eventOut SFTime  xb
  eventOut SFVec3f coord
  eventOut SFVec2f texCoord
  eventOut SFBool  yb_changed
  field    SFBool  enabled TRUE
]
{
  DEF I Script {
    eventIn  SFTime  ob IS ob
    eventIn  SFTime  pb IS pb
    eventIn  SFBool  qb IS qb
    eventIn  SFBool  rb IS rb
    eventIn  SFVec3f sb IS sb
    eventIn  SFVec2f tb IS tb
    eventOut SFTime  ub IS ub
    eventOut SFTime  vb IS vb
    eventOut SFTime  wb IS wb
    eventOut SFTime  xb IS xb
    eventOut SFTime  enterTime IS enterTime
    eventOut SFTime  exitTime IS exitTime
    eventOut SFVec3f coord IS coord
    eventOut SFVec2f texCoord IS texCoord
    eventOut SFBool  yb_changed IS yb_changed
    field    SFBool  enabled IS enabled

    url "javascript:
function initialize(){
yb_changed=enabled;
}
function ob(n,time){
if(!enabled){
enabled=TRUE;
yb_changed=TRUE;
wb=time;
}
}
function pb(n,time){
if(enabled){
enabled=FALSE;
yb_changed=FALSE;
xb=time;
}
}
function rb(n,Za){
if(enabled){
if(n==TRUE){
ub=Za;
}else{
vb=Za;
}
}
}
function qb(n,Za){
if(enabled){
if(n==TRUE){
enterTime=Za;
}else{
exitTime=Za;
}
}
}
function sb(n,Za){
if(enabled){
coord=n;
}
}
function tb(n,Za){
if(enabled){
texCoord=n;
}
}
"
    directOutput TRUE
  }
}

PROTO zb [
  eventIn      SFBool   set_p
  eventIn      MFVec3f  set_coord
  eventIn      MFVec2f  set_texCoord
  eventIn      SFColor  set_diffuseColor
  eventIn      SFBool   w
  eventIn      SFNode   set_v
  eventOut     SFBool   p_changed
  eventOut     MFVec3f  coord_changed
  eventOut     MFVec2f  texCoord_changed
  eventOut     SFColor  diffuseColor_changed
  eventOut     SFNode   v_changed
  exposedField MFString url [ ]
  exposedField SFFloat  transparency 0
  exposedField SFColor  emissiveColor 0 0.09 0.15
  exposedField SFColor  specularColor 0.5 0.5 0.5
  exposedField SFFloat  shininess 0.2
  exposedField SFVec2f  q -0.5 -0.5
  exposedField SFFloat  s 0
  exposedField SFVec2f  t 1 1
  exposedField SFVec2f  u 0 0
  exposedField SFVec2f  Ab 1 1
  exposedField SFFloat  Bb 0
  exposedField SFFloat  Cb 0
  exposedField SFFloat  Db 0
  exposedField SFFloat  Eb 0
  exposedField SFNode   B NULL
  exposedField MFNode   C [ ]
  exposedField SFNode   D NULL
  exposedField SFInt32  F -1
  field        SFBool   p TRUE
  field        SFBool   Fb FALSE
  field        SFBool   Gb TRUE
  field        SFVec2f  Hb 0 0
  field        SFVec2f  Ib 1 1
  field        SFColor  Jb 0 0 0
  field        SFColor  Kb 0 0 0
  field        SFInt32  Lb -1
  field        MFVec3f  coord [ ]
  field        MFVec2f  texCoord [ ]
  field        MFInt32  coordIndex [ ]
  field        MFColor  color [ ]
  field        SFNode   Mb NULL
  field        SFNode   Nb NULL
  field        SFFloat  Ob 0.02
  field        SFFloat  Pb 1
  field        SFFloat  creaseAngle 0.524
  field        SFBool   H TRUE
  field        SFInt32  choice 0
  field        MFString Qb [ ]
  field        MFString Rb "SERIF"
  field        SFString fontStyle "PLAIN"
  field        SFString Sb ""
  field        SFColor  diffuseColor 0 0.48 0.8
]
{
  DEF Tb_12 Switch {
    whichChoice IS choice
    choice [
      Shape {
        appearance DEF Ub_13 Appearance {
          material Material {
            diffuseColor IS diffuseColor
            specularColor IS specularColor
            emissiveColor IS emissiveColor
            shininess IS shininess
            transparency IS transparency
          }
          texture DEF Vb_14 ImageTexture {
            url IS url
          }
          textureTransform DEF Wb_15 TextureTransform {
            translation IS u
            rotation IS s
            scale IS t
            center IS q
          }
        }
        geometry DEF Xb_16 IndexedFaceSet {
          solid IS Gb
          convex FALSE
          creaseAngle IS creaseAngle
          coordIndex IS coordIndex
          texCoord DEF Zb_18 TextureCoordinate {
            point IS texCoord
          }
          coord DEF Yb_17 Coordinate {
            point IS coord
          }
        }
      }
      Shape {
        appearance DEF ac_19 Appearance {
          texture USE Vb_14
          textureTransform USE Wb_15
        }
        geometry DEF bc_20 IndexedFaceSet {
          solid IS Gb
          convex FALSE
          creaseAngle IS creaseAngle
          coordIndex IS coordIndex
          texCoord DEF ec_23 TextureCoordinate {
            point IS texCoord
          }
          color DEF dc_22 Color {
            color IS color
          }
          coord DEF cc_21 Coordinate {
            point IS coord
          }
        }
      }
      Shape {
        appearance USE Ub_13
        geometry USE bc_20
      }
      Shape {
        appearance USE ac_19
        geometry USE bc_20
      }
      Shape {
        appearance USE Ub_13
        geometry DEF fc_24 Text {
          string IS Qb
          fontStyle FontStyle {
            family IS Rb
            style IS fontStyle
            language IS Sb
          }
        }
      }
      Shape {
        appearance USE ac_19
        geometry USE fc_24
      }
    ]
  }

  DEF gc_25 Script {
    eventIn  SFBool  set_p IS set_p
    eventIn  MFVec3f set_coord IS set_coord
    eventIn  MFVec2f set_texCoord IS set_texCoord
    eventIn  SFColor set_diffuseColor IS set_diffuseColor
    eventIn  SFBool  w IS w
    eventIn  SFNode  set_v IS set_v
    eventOut SFInt32 choice
    eventOut MFInt32 coordIndex
    eventOut MFColor color_changed
    eventOut SFBool  p_changed IS p_changed
    eventOut MFVec3f coord_changed IS coord_changed
    eventOut MFVec2f texCoord_changed IS texCoord_changed
    eventOut SFColor diffuseColor_changed IS diffuseColor_changed
    eventOut SFNode  v_changed IS v_changed
    field    SFInt32 hc IS choice
    field    SFBool  p IS p
    field    MFVec3f coord [ ]
    field    MFVec2f texCoord [ ]
    field    SFBool  H IS H
    field    MFColor color [ ]
    field    SFVec2f Hb IS Hb
    field    SFVec2f Ib IS Ib
    field    SFColor Jb IS Jb
    field    SFColor Kb IS Kb
    field    SFInt32 Lb IS Lb
    field    SFColor diffuseColor IS diffuseColor
    field    SFNode  Mb IS Mb
    field    SFNode  Nb IS Nb
    field    SFFloat Ob IS Ob
    field    SFFloat Pb IS Pb
    field    SFBool  Fb IS Fb
    field    SFBool  Gb IS Gb
    field    SFNode  ma USE Tb_12
    field    SFNode  ic USE Ub_13
    field    SFNode  jc USE ac_19

    url "javascript:
function kc()
{
R=0;
lc=-1;
for(J=0;J<Mb.mc.length-1;J++){
R=J;
nc=Mb.mc[J];
oc=Mb.mc[J+1];
for(J+=2;J<Mb.mc.length-1
&&Mb.mc[J]!=-1;J++);
lc=J-1;
pc=Mb.mc[lc];
for(qc=R;qc<=lc;qc++){
rc=coord[pc].x;
sc=coord[pc].y;
tc=coord[nc].x;
uc=coord[nc].y;
vc=coord[oc].x;
wc=coord[oc].y;
xc=sc-uc;
yc=tc-rc;
zc=rc*(uc-sc)-sc*(tc-rc);
Ac=uc-wc;
Bc=vc-tc;
Cc=tc*(wc-uc)-uc*(vc-tc);
Dc=1.0/Math.sqrt(xc*xc+yc*yc);
xc*=Dc;
yc*=Dc;
zc*=Dc;
Ec=1.0/Math.sqrt(Ac*Ac+Bc*Bc);
Ac*=Ec;
Bc*=Ec;
Cc*=Ec;
for(Fc=0;Fc<Nb.Gc.length;Fc++){
Hc=Nb.Gc[Fc].y*Ob;
if(Hc==0)
continue;
Ic=zc+Hc;
Jc=Cc+Hc;
Kc=xc*Bc-Ac*yc;
if(Math.abs(Kc)<0.001){
Lc=yc;
Mc=-xc;
Nc=-xc*uc-yc*tc+Hc;
Oc=1.0/(xc*Mc-Lc*yc);
Pc=(yc*Jc-Bc*Ic)*Oc;
Qc=(Ac*Ic-xc*Jc)*Oc;
}else{
Oc=1.0/Kc;
Pc=(yc*Jc-Bc*Ic)*Oc;
Qc=(Ac*Ic-xc*Jc)*Oc;
}
Rc=nc+(Fc*Mb.coord.length);
coord[Rc].x=Pc;
coord[Rc].y=Qc;
}
pc=nc;
nc=oc;
if(qc<lc-1)
oc=Mb.mc[qc+2];
else
oc=Mb.mc[R];
}
}
}
function Sc()
{
coord.length=Mb.coord.length*Nb.Gc.length;
Tc=FALSE;
Uc=0;
for(Fc=0;Fc<Nb.Gc.length;Fc++){
Vc=-1*Nb.Gc[Fc].x*Pb;
if(Nb.Gc[Fc].y!=0)
Tc=TRUE;
for(Wc=0;Wc<Mb.coord.length;Wc++){
coord[Uc].x=Mb.coord[Wc].x;
coord[Uc].y=Mb.coord[Wc].y;
coord[Uc].z=Vc;
Uc++;
}
}
coordIndex=Mb.coordIndex;
coordIndex.length=Mb.coordIndex.length*2
+(Mb.mc.length-1)*(Nb.Gc.length-1);
Xc=TRUE;
for(qc=Mb.coordIndex.length,Fc=0;
Fc<Nb.Gc.length-1;Fc++){
Yc=Mb.coord.length*Fc;
for(J=0;J<Mb.mc.length-1;J++){
Zc=Mb.mc[J];
if(Xc){
R=Zc;
Xc=FALSE;
}
ad=Mb.mc[J+1];
if(J>=Mb.mc.length-2||ad==-1){
ad=R;
Xc=TRUE;
}
if(Zc!=-1&&ad!=-1){
Zc+=Yc;
ad+=Yc;
bd=Zc+Mb.coord.length;
cd=ad+Mb.coord.length;
coordIndex[qc++]=Zc;
coordIndex[qc++]=bd;
coordIndex[qc++]=ad;
coordIndex[qc++]=-1;
coordIndex[qc++]=ad;
coordIndex[qc++]=bd;
coordIndex[qc++]=cd;
coordIndex[qc++]=-1;
}
else
Xc=TRUE;
}
}
dd=Mb.coord.length*(Nb.Gc.length-1);
for(J=Mb.coordIndex.length-2;J>=0;J--,qc++){
ed=Mb.coordIndex[J];
if(ed!=-1){
ed+=dd;
}
coordIndex[qc]=ed;
}
coordIndex[qc]=-1;qc++;
coordIndex.length=qc;
if(Tc){
kc();
}
coord_changed=coord;
}
function fd(){
coord=Mb.coord;
coordIndex=Mb.coordIndex;
coord_changed=coord;
}
function gd(){
if((H==TRUE)&&(Lb==-1))return;
if(Lb==0){
min=Hb.x;
max=Ib.x;
}
else{
min=Hb.y;
max=Ib.y;
}
hd=max-min;
color.length=coord.length;
for(id=0;id<coord.length;id++){
if(hd==0.0){
fraction=0.0;
}else{
if(Lb==0){
fraction=(coord[id].x-min)/hd;
}else{
fraction=(coord[id].y-min)/hd;
}
}
jd=new SFColor(0,0,0);
if(Lb==-1){
jd=diffuseColor;
}else{
if(fraction<0){fraction=0;}
if(fraction>1){fraction=1;}
jd.r=Kb.r*(1-fraction)+
Jb.r*fraction;
jd.g=Kb.g*(1-fraction)+
Jb.g*fraction;
jd.b=Kb.b*(1-fraction)+
Jb.b*fraction;
}
color[id]=jd;
}
color_changed=color;
}
function kd(){
hd=new SFVec2f(0,0);
hd.x=Ib.x-Hb.x;
hd.y=Ib.y-Hb.y;
texCoord.length=coord.length;
for(id=0;id<coord.length;id++){
if(hd.x==0.0){
texCoord[id].x=0.0;
}else{
texCoord[id].x=(coord[id].x-Hb.x)/hd.x;
}
if(hd.y==0.0){
texCoord[id].y=0.0;
}else{
texCoord[id].y=(coord[id].y-Hb.y)/hd.y;
}
}
texCoord_changed=texCoord;
}
function set_p(n){
if(n==TRUE){
if(H==TRUE){
if(hc>=4){
ma.whichChoice=4;
choice=4;
}
else if(Lb>=0){
ma.whichChoice=2;
choice=2;
}else{
ma.whichChoice=0;
choice=0;
}
}else{
if(hc>=4){
ma.whichChoice=5;
choice=5;
}
else if(Lb>=0){
ma.whichChoice=3;
choice=3;
}else{
ma.whichChoice=1;
choice=1;
}
}
}else{
ma.whichChoice=-1;
choice=-1;
}
p=n;
p_changed=n;
}
function ld()
{
if(Fb){
fd();
}
else{
Sc();
}
}
function initialize(){
set_p(p);
v_changed=ic.texture_changed;
diffuseColor_changed=diffuseColor;
if(hc<4){
ld();
kd();
gd();
}
}
function set_diffuseColor(n){
diffuseColor=n;
diffuseColor_changed=n;
gd();
}
function set_v(n){
ic.set_texture=n;
jc.set_texture=n;
v_changed=n;
}
function w(){
}
"
    directOutput TRUE
  }

  ROUTE gc_25.coord_changed TO Yb_17.set_point
  ROUTE gc_25.texCoord_changed TO Zb_18.set_point
  ROUTE gc_25.coordIndex TO Xb_16.set_coordIndex
  ROUTE gc_25.coord_changed TO cc_21.set_point
  ROUTE gc_25.color_changed TO dc_22.set_color
  ROUTE gc_25.texCoord_changed TO ec_23.set_point
  ROUTE gc_25.coordIndex TO bc_20.set_coordIndex
  ROUTE gc_25.coordIndex TO bc_20.set_colorIndex
  ROUTE gc_25.choice TO Tb_12.set_whichChoice
}

PROTO md [
  exposedField MFVec3f coord [ ]
  exposedField MFInt32 coordIndex [ ]
  exposedField MFInt32 mc [ ]
]
{
  Group { }
}

PROTO nd [
  eventIn  SFTime  R
  eventIn  SFTime  S
  eventIn  SFFloat set_od
  eventIn  SFFloat set_fraction
  eventOut SFTime  R_changed
  field    SFNode  U NULL
  field    SFBool  hb FALSE
  field    SFBool  ib FALSE
  field    SFBool  pd FALSE
  field    SFBool  qd FALSE
  field    SFBool  rd FALSE
  field    SFBool  sd FALSE
  field    SFBool  td FALSE
  field    SFBool  ud FALSE
  field    SFBool  vd FALSE
  field    SFBool  wd FALSE
  field    SFBool  xd FALSE
  field    SFColor diffuseColor 1 0 0
  field    SFColor emissiveColor 0 0 1
  field    SFColor specularColor 0 1 0
  field    SFFloat transparency 0
  field    SFFloat shininess 0.2
  field    SFVec2f q -0.5 -0.5
  field    SFVec2f t 1 1
  field    SFFloat s 0
  field    SFVec2f u 0 0
  field    SFVec3f ha 0 0 0
]
{
  DEF jb Script {
    eventIn  SFTime   R IS R
    eventIn  SFTime   S IS S
    eventIn  SFFloat  set_od IS set_od
    eventIn  SFFloat  set_fraction IS set_fraction
    eventOut SFTime   R_changed IS R_changed
    field    SFNode   U IS U
    field    SFBool   hb IS hb
    field    SFBool   ib IS ib
    field    SFBool   pd IS pd
    field    SFBool   qd IS qd
    field    SFBool   rd IS rd
    field    SFBool   sd IS sd
    field    SFBool   td IS td
    field    SFBool   ud IS ud
    field    SFBool   vd IS vd
    field    SFBool   wd IS wd
    field    SFBool   xd IS xd
    field    SFColor  diffuseColor IS diffuseColor
    field    SFColor  emissiveColor IS emissiveColor
    field    SFColor  specularColor IS specularColor
    field    SFFloat  transparency IS transparency
    field    SFFloat  shininess IS shininess
    field    SFVec2f  q IS q
    field    SFVec2f  t IS t
    field    SFFloat  s IS s
    field    SFVec2f  u IS u
    field    MFColor  yd 0 0 0
    field    MFColor  zd 0 0 0
    field    MFColor  Ad 0 0 0
    field    MFFloat  Bd 0
    field    MFFloat  Cd 0
    field    MFVec2f  Dd 0 0
    field    MFVec2f  Ed 0 0
    field    MFFloat  Fd 0
    field    MFVec2f  Gd 0 0
    field    MFColor  Hd 0 0 0
    field    MFColor  Id 0 0 0
    field    MFColor  Jd 0 0 0
    field    MFString Kd [ ]
    field    SFColor  Ld 0 0 0
    field    SFColor  Md 0 0 0
    field    SFBool   aa FALSE
    field    SFInt32  lb 0
    field    MFNode   mb [ ]
    field    SFVec2f  Nd 0 0
    field    SFFloat  od 0
    field    SFFloat  Od 0
    field    SFFloat  Pd 0
    field    SFFloat  Qd 0
    field    SFTime   ea 0
    field    SFTime   fa 0
    field    SFBool   Rd FALSE
    field    SFVec2f  Sd 1 1
    field    SFVec2f  Td 0 0
    field    SFVec2f  Za 0 0
    field    SFFloat  Ud 0
    field    SFVec2f  Vd 0 0
    field    SFVec2f  Wd 0 0
    field    SFVec2f  Xd 0 0
    field    SFVec2f  Yd 0 0

    url "javascript:
function Zd(lb){
Sd.x=lb.t_changed.x;
Sd.y=lb.t_changed.y;
Td.x=lb.q_changed.x;
Td.y=lb.q_changed.y;
Za.x=lb.u_changed.x;
Za.y=lb.u_changed.y;
Ud=lb.s_changed;
var ae,be;
ae=Math.cos(Ud);
be=Math.sin(Ud);
Vd.x=q.x;
Vd.y=q.y;
Yd.x=((-Td.x)+(Sd.x*(Td.x-Vd.x+Za.x)*ae)-(Sd.x*(Td.y-Vd.y+Za.y)*be));
Yd.y=((-Td.y)+(Sd.y*(Td.y-Vd.y+Za.y)*ae)+(Sd.y*(Td.x-Vd.x+Za.x)*be));
Vd.x=-Yd.x;
Vd.y=-Yd.y;
lb.set_q=Vd;
Wd.x=(Td.x-Vd.x+Za.x-((Td.x-Vd.x)*Math.cos(Ud))/Sd.x-((Td.y-Vd.y)*Math.sin(Ud))/Sd.y);
Wd.y=(Td.y-Vd.y+Za.y-((Td.y-Vd.y)*Math.cos(Ud))/Sd.y+((Td.x-Vd.x)*Math.sin(Ud))/Sd.x);
lb.set_u=Wd;
Xd.x=Wd.x-Za.x;
Xd.y=Wd.y-Za.y;
u.x+=Xd.x;
u.y+=Xd.y;
}
function initialize(){
U.w=TRUE;
Rd=FALSE;
aa=FALSE;
od=0.;
}
function R(n){
if(ib&&!hb){
return;
}
if(fa==n){
return;
}
if(aa==TRUE){
ea=n;
return;
}
aa=TRUE;
od=0.;
if(hb==FALSE){
mb.length=1;
mb[0]=U;
}else{
mb=U.A_changed;
}
yd.length=
zd.length=
Ad.length=
Hd.length=
Id.length=
Jd.length=
Bd.length=
Cd.length=
Dd.length=
Ed.length=
Fd.length=
Gd.length=mb.length;
for(lb=0;lb<mb.length;lb++){
if(pd==TRUE){
ce(mb[lb].diffuseColor_changed,yd[lb]);
ce(diffuseColor,Hd[lb]);
if((yd[lb][1]<=Qd)||(yd[lb][2]<=Qd)){
yd[lb][0]=Hd[lb][0];
}else if((Hd[lb][1]<=Qd)||(Hd[lb][2]<=Qd)){
Hd[lb][0]=yd[lb][0];
}
}
if(rd==TRUE){
ce(mb[lb].specularColor_changed,Ad[lb]);
ce(specularColor,Jd[lb]);
if((Ad[lb][1]<=Qd)||(Ad[lb][2]<=Qd)){
Ad[lb][0]=Jd[lb][0];
}else if((Jd[lb][1]<=Qd)||(Jd[lb][2]<=Qd)){
Jd[lb][0]=Ad[lb][0];
}
}
if(qd==TRUE){
ce(mb[lb].emissiveColor_changed,zd[lb]);
ce(emissiveColor,Id[lb]);
if((zd[lb][1]<=Qd)||(zd[lb][2]<=Qd)){
zd[lb][0]=Id[lb][0];
}else if((Id[lb][1]<=Qd)||(Id[lb][2]<=Qd)){
Id[lb][0]=zd[lb][0];
}
}
if(sd==TRUE)Bd[lb]=mb[lb].transparency_changed;
if(td==TRUE)Cd[lb]=mb[lb].shininess_changed;
if(vd==TRUE||wd==TRUE||xd==TRUE){
Kd=mb[lb].v_changed.url;
if(Kd.length>0){
if(Kd[0].length>0){
if(lb==0)Rd=TRUE;
Zd(mb[lb]);
Ed[lb]=mb[lb].t_changed;
Fd[lb]=mb[lb].s_changed;
Gd[lb]=mb[lb].u_changed;
}
}
}
}
R_changed=n;
fa=n;
}
function S(n){
aa=FALSE;
if(ea==n){
R(n);
}
}
function set_od(n){
od=n;
if(od<0.)od=0.;
else if(od>1.)od=1.;
}
function set_fraction(n){
if(ib&&!hb){
return;
}
Pd=od*(1.+Math.sin(2.*Math.PI*n-(Math.PI/2.)))/2.;
Od=od*Math.sin(2.*Math.PI*n);
for(lb=0;lb<mb.length;lb++){
if(pd==TRUE){
Ld[0]=(1.-Pd)*yd[lb][0]+Pd*Hd[lb][0];
Ld[1]=(1.-Pd)*yd[lb][1]+Pd*Hd[lb][1];
Ld[2]=(1.-Pd)*yd[lb][2]+Pd*Hd[lb][2];
de(Ld,Md);
mb[lb].set_diffuseColor=Md;
}
if(rd==TRUE){
Ld[0]=(1.-Pd)*Ad[lb][0]+Pd*Jd[lb][0];
Ld[1]=(1.-Pd)*Ad[lb][1]+Pd*Jd[lb][1];
Ld[2]=(1.-Pd)*Ad[lb][2]+Pd*Jd[lb][2];
de(Ld,Md);
mb[lb].set_specularColor=Md;
}
if(qd==TRUE){
Ld[0]=(1.-Pd)*zd[lb][0]+Pd*Id[lb][0];
Ld[1]=(1.-Pd)*zd[lb][1]+Pd*Id[lb][1];
Ld[2]=(1.-Pd)*zd[lb][2]+Pd*Id[lb][2];
de(Ld,Md);
mb[lb].set_emissiveColor=Md;
}
if(sd==TRUE)mb[lb].set_transparency=(1.-Pd)*Bd[lb]+Pd*transparency;
if(td==TRUE)mb[lb].set_shininess=(1.-Pd)*Cd[lb]+Pd*shininess;
if(Rd==TRUE){
if(vd==TRUE){
Nd.x=(1.-Pd)*Ed[lb].x+Pd*t.x;
Nd.y=(1.-Pd)*Ed[lb].y+Pd*t.y;
mb[lb].set_t=Nd;
}
if(wd==TRUE){
mb[lb].set_s=Fd[lb]+Od*s;
}
if(xd==TRUE){
Nd.x=Gd[lb].x+Od*u.x;
Nd.y=Gd[lb].y+Od*u.y;
mb[lb].set_u=Nd;
}
}
}
}
function ce(ee,fe){
var max,min;
max=(ee[0]>ee[1])?
((ee[0]>ee[2])?ee[0]:ee[2]):
((ee[1]>ee[2])?ee[1]:ee[2]);
min=(ee[0]<ee[1])?
((ee[0]<ee[2])?ee[0]:ee[2]):
((ee[1]<ee[2])?ee[1]:ee[2]);
fe[2]=max;
if(max!=0.)fe[1]=(max-min)/max;
else fe[1]=0.;
if(fe[1]!=0.){
if(ee[0]==max)fe[0]=(ee[1]-ee[2])/(max-min);
else if(ee[1]==max)fe[0]=2.+(ee[2]-ee[0])/(max-min);
else fe[0]=4.+(ee[0]-ee[1])/(max-min);
if(fe[0]<0.)fe[0]+=6.;
fe[0]/=6.;
}else fe[0]=0.;
}
function de(fe,ee){
var ge,he,Za,ie;
var J;
if(fe[0]==1.)fe[0]=0.;
else fe[0]*=6.;
J=Math.floor(fe[0]);
ge=fe[0]-J;
ie=fe[2]*(1.-fe[1]);
he=fe[2]*(1.-(fe[1]*ge));
Za=fe[2]*(1.-(fe[1]*(1.-ge)));
switch(J){
case 0:ee[0]=fe[2];ee[1]=Za;ee[2]=ie;break;
case 1:ee[0]=he;ee[1]=fe[2];ee[2]=ie;break;
case 2:ee[0]=ie;ee[1]=fe[2];ee[2]=Za;break;
case 3:ee[0]=ie;ee[1]=he;ee[2]=fe[2];break;
case 4:ee[0]=Za;ee[1]=ie;ee[2]=fe[2];break;
case 5:ee[0]=fe[2];ee[1]=ie;ee[2]=he;break;
}
}
"
    directOutput TRUE
  }
}

PROTO je [
  eventIn  SFBool     set_enabled
  eventOut SFBool     isOver
  eventOut SFBool     isActive
  eventOut SFVec3f    trackPoint_changed
  eventOut SFRotation rotation_changed
  field    SFInt32    oa 0
]
{
  DEF ke_26 SphereSensor {
    enabled FALSE
    autoOffset FALSE
    trackPoint_changed IS trackPoint_changed
    rotation_changed IS rotation_changed
    isActive IS isActive
  }

  DEF le_27 Script {
    eventIn  SFBool  set_enabled IS set_enabled
    eventOut SFBool  enabled_changed
    field    SFInt32 oa IS oa

    url "javascript:
function initialize(){
if(oa>0){
enabled_changed=TRUE;
}
}
function set_enabled(n){
if(n==TRUE){
enabled_changed=TRUE;
oa++;
}else{
enabled_changed=FALSE;
enabled_changed=TRUE;
if(oa>0){
oa--;
}
}
}
"
    directOutput TRUE
  }

  ROUTE le_27.enabled_changed TO ke_26.set_enabled
}

PROTO me [
  eventIn  SFTime     R
  eventIn  SFTime     sa
  eventIn  SFBool     rb
  eventIn  SFRotation ne
  eventIn  SFVec3f    oe
  eventOut SFBool     yb_changed
  eventOut SFTime     stopTime
  field    SFInt32    pe 0
  field    SFVec3f    qe 0 0 1
  field    SFBool     enabled TRUE
  field    SFNode     re NULL
  field    SFVec3f    center 0 0 0
]
{
  DEF I Script {
    eventIn  SFBool     isActive IS rb
    eventIn  SFRotation se IS ne
    eventIn  SFVec3f    te IS oe
    eventIn  SFTime     ob IS R
    eventIn  SFTime     pb IS sa
    eventOut SFBool     yb_changed IS yb_changed
    eventOut SFTime     stopTime IS stopTime
    field    SFInt32    pe IS pe
    field    SFVec3f    qe IS qe
    field    SFBool     enabled IS enabled
    field    SFNode     ue IS re
    field    SFRotation ve 0 0 1 0

    url "javascript:
function initialize(){
yb_changed=enabled;
}
function ob(n,time){
if(!enabled){
enabled=TRUE;
yb_changed=TRUE;
ve=ue.rotation;
}
}
function pb(n,time){
if(enabled){
enabled=FALSE;
yb_changed=FALSE;
stopTime=time;
}
}
function isActive(n,Za){
ve=ue.rotation;
if(n==TRUE){
yb_changed=TRUE;
}
else{
yb_changed=FALSE;
}
}
function se(n){
if(pe==0){
ue.rotation=n.multiply(ve);
}
}
function te(n){
if(pe==1){
we=new SFRotation(qe,n);
ue.rotation=we.multiply(ve);
}
}
"
    directOutput TRUE
  }
}

PROTO xe [
  eventIn  SFTime  R
  eventIn  SFTime  S
  eventOut SFTime  startTime
  field    SFNode  ye NULL
  field    SFNode  ze NULL
  field    SFNode  Ae NULL
  field    SFBool  Be FALSE
  field    SFInt32 Ce -1
  field    SFBool  De FALSE
]
{
  Script {
    eventIn  SFTime  R IS R
    eventIn  SFTime  S IS S
    eventOut SFTime  startTime IS startTime
    field    SFNode  Ee IS ye
    field    SFNode  Fe IS ze
    field    SFNode  U IS Ae
    field    SFBool  Be IS Be
    field    SFInt32 Ce IS Ce
    field    SFTime  ea 0
    field    SFBool  De IS De

    url "javascript:
function R(n,Za){
if(startTime==Za){
return;
}
if(!Be){
if(U.D!=null){
if(U.F!=Ce){
if(!De){
U.D.sa=Za;
}
}
}
U.D=Fe;
U.F=Ce;
Ee.R=Za;
Be=TRUE;
startTime=Za;
}else{
ea=Za;
}
}
function S(n,Za){
Be=FALSE;
if(ea==Za){
R(n,Za);
}
}"
    directOutput TRUE
  }
}

PROTO Ge [
  eventIn  SFTime  R
  eventIn  SFFloat set_fraction
  eventOut SFTime  He
  eventOut SFTime  Ie
  field    SFBool  Je TRUE
  field    SFFloat Ke 5
  field    SFVec3f qe 0 0 1
  field    SFBool  T TRUE
  field    SFVec3f center 0 0 0
  field    SFNode  U NULL
  field    SFNode  Le NULL
]
{
  Script {
    eventIn  SFTime     R IS R
    eventIn  SFFloat    set_fraction IS set_fraction
    eventOut SFTime     He IS He
    eventOut SFTime     Ie IS Ie
    field    SFNode     U IS U
    field    SFNode     Me IS Le
    field    SFVec3f    center IS center
    field    SFBool     Je IS Je
    field    SFFloat    Ke IS Ke
    field    SFVec3f    qe IS qe
    field    SFVec3f    Ne 0 1 0
    field    SFInt32    Oe 2
    field    SFVec3f    Pe 0 0 0
    field    SFRotation Qe 0 0 1 0

    url "vrmlscript:
function Re(U,Se){
var Te=new VrmlMatrix();
for(var J=U.C.length-2;J>=0;J--){
Te.setTransform(U.C[J].translation,
U.C[J].rotation,
U.C[J].scale,
U.C[J].scaleOrientation,
U.C[J].center);
Se.multRight(Te);
}
}
function Ue(Ve,Se){
var We=Ve;
while(We.G==FALSE){
Re(We,Se);
We=We.B;
}
}
function Xe()
{
var Se=new VrmlMatrix();
Re(Me,Se);
Ue(Me.B,Se);
var Ye=Me.C[0].center;
return Se.multVecMatrix(Ye);
}
function Ze(Se)
{
Re(Me,Se);
Ue(Me.B,Se);
}
function af()
{
var Se=new VrmlMatrix();
Re(U,Se);
Ue(U.B,Se);
return Se;
}
function R(n,Za)
{
He=Za;
U.C[0].center=center;
Ne=new SFVec3f(0,1,0);
Oe=2;
if(Math.abs(qe.x)>0.5){
Oe=0;
}
else if(Math.abs(qe.y)>0.5){
Oe=1;
Ne=new SFVec3f(0,0,1);
}
}
function set_fraction(n)
{
var bf=new SFVec3f(0,0,0);
if(Je){
bf=new SFVec3f(0.0,0.0,Ke);
}
else{
bf=Xe();
}
var cf=af();
var df=cf.inverse();
var vec=df.multVecMatrix(bf);
vec=vec.subtract(U.C[0].center);
var we=new SFRotation(qe,vec);
if(n<1.0){
we=Qe.slerp(we,n);
}
U.C[0].rotation=we.multiply(U.C[0].rotation);
if(Je){
cf=af();
df=cf.inverse();
var ef=df.multVecMatrix(new SFVec3f(0,1,0));
var ff=new SFVec3f(0,0,0);
var gf=df.multVecMatrix(ff);
ef=ef.subtract(gf);
ef[Oe]=0.0;
we=new SFRotation(Ne,ef);
U.C[0].rotation=we.multiply(U.C[0].rotation);
}
}
"
    directOutput TRUE
  }
}

PROTO hf [
  eventIn      SFTime     R
  eventIn      SFTime     S
  eventIn      SFFloat    set_od
  eventIn      SFFloat    set_fraction
  eventIn      SFFloat    jf
  eventOut     SFTime     R_changed
  exposedField SFVec3f    translation 0 0 0
  exposedField SFVec3f    scale 1 1 1
  exposedField SFVec3f    center 0 0 0
  exposedField SFBool     T TRUE
  exposedField SFRotation rotation 0 0 1 0
  exposedField SFRotation scaleOrientation 0 0 1 0
  field        MFNode     children [ ]
  field        SFNode     U NULL
  field        SFInt32    kf 8
  field        SFFloat    lf 1.5
  field        SFBool     mf TRUE
  field        SFBool     nf TRUE
  field        SFBool     of TRUE
]
{
  DEF pf_28 Transform {
    translation IS translation
    rotation IS rotation
    scale IS scale
    scaleOrientation IS scaleOrientation
    center IS center
    children IS children
  }

  DEF qf_29 PositionInterpolator { }

  DEF rf_30 Script {
    eventIn  SFTime  R IS R
    eventIn  SFTime  S IS S
    eventIn  SFFloat set_od IS set_od
    eventIn  SFFloat set_fraction IS set_fraction
    eventIn  SFFloat jf IS jf
    eventIn  SFVec3f set_sf
    eventOut SFTime  R_changed IS R_changed
    eventOut MFFloat key_changed
    eventOut MFVec3f keyValue_changed
    eventOut SFVec3f sf_changed
    eventOut SFFloat fraction_changed
    field    SFNode  U IS U
    field    SFInt32 kf IS kf
    field    SFFloat lf IS lf
    field    SFBool  mf IS mf
    field    SFBool  nf IS nf
    field    SFBool  of IS of
    field    SFBool  aa FALSE
    field    SFFloat tf 1
    field    MFFloat key 0
    field    MFVec3f keyValue 0 0 0
    field    SFNode  uf USE pf_28
    field    SFVec3f vf 0 0 0
    field    SFVec3f sf 0 0 0
    field    SFFloat od 0
    field    SFFloat wf 0
    field    SFFloat xf 0
    field    SFTime  ea 0
    field    SFTime  fa 0

    url "javascript:
function initialize(){
aa=FALSE;
tf=1.;
sf.x=sf.y=sf.z=1.;
key.length=kf;
keyValue.length=kf;
ge=0.0;
g=kf-1.0;
g=1./g;
for(J=0;J<kf;J++){
key[J]=ge;
keyValue[J].x=keyValue[J].y=keyValue[J].z=1.;
if(mf==TRUE){
xf=Math.random();
wf=(1.-xf)+xf*(lf);
keyValue[J].x=wf;
}
if(nf==TRUE){
xf=Math.random();
wf=(1.-xf)+xf*(lf);
keyValue[J].y=wf;
}
if(of==TRUE){
xf=Math.random();
wf=(1.-xf)+xf*(lf);
keyValue[J].z=wf;
}
ge+=g;
}
}
function R(n){
if(fa==n){
return;
}
if(aa==TRUE){
ea=n;
return;
}
aa=TRUE;
vf=uf.scale_changed;
key_changed=key;
keyValue_changed=keyValue;
R_changed=n;
fa=n;
}
function S(n){
uf.set_scale=vf;
aa=FALSE;
if(ea==n){
R(n);
}
}
function set_od(n){
od=n;
if(od<0.)od=0.;
else if(od>1.)od=1.;
}
function set_sf(n){
if(mf==TRUE)sf.x=(1.-od)+od*(n.x);
if(nf==TRUE)sf.y=(1.-od)+od*(n.y);
if(of==TRUE)sf.z=(1.-od)+od*(n.z);
sf_changed=sf;
}
function set_fraction(n){
fraction_changed=n;
}
function jf(n){
if(n>tf){
tf=n;
return;
}
tf=n;
keyValue[0].x=keyValue[kf-1].x;
keyValue[0].y=keyValue[kf-1].y;
keyValue[0].z=keyValue[kf-1].z;
for(J=1;J<kf;J++){
if(mf==TRUE){
xf=Math.random();
wf=(1.-xf)+xf*(lf);
keyValue[J].x=wf;
}
if(nf==TRUE){
xf=Math.random();
wf=(1.-xf)+xf*(lf);
keyValue[J].y=wf;
}
if(of==TRUE){
xf=Math.random();
wf=(1.-xf)+xf*(lf);
keyValue[J].z=wf;
}
}
keyValue_changed=keyValue;
}
"
    directOutput TRUE
  }

  ROUTE rf_30.sf_changed TO pf_28.set_scale
  ROUTE rf_30.key_changed TO qf_29.set_key
  ROUTE rf_30.fraction_changed TO qf_29.set_fraction
  ROUTE rf_30.keyValue_changed TO qf_29.set_keyValue
  ROUTE qf_29.value_changed TO rf_30.set_sf
}

PROTO yf [
  eventIn      SFBool  set_p
  eventIn      SFBool  w
  eventOut     MFVec3f point_changed
  eventOut     MFInt32 zf_changed
  eventOut     MFFloat Sd_changed
  eventOut     MFVec2f Af_changed
  eventOut     MFInt32 Bf_changed
  eventOut     SFBool  Cf_changed
  eventOut     SFBool  p_changed
  exposedField SFColor diffuseColor 0.3 0.5 1
  exposedField SFNode  B NULL
  exposedField MFNode  C [ ]
  exposedField SFNode  D NULL
  exposedField SFInt32 F -1
  exposedField SFBool  G FALSE
  field        MFVec3f point [ ]
  field        MFInt32 zf [ ]
  field        MFFloat Sd [ ]
  field        MFVec2f Af [ ]
  field        MFInt32 Bf [ ]
  field        SFBool  Cf FALSE
  field        SFBool  p TRUE
  field        MFVec3f coord [ ]
  field        MFInt32 coordIndex [ ]
  field        SFInt32 choice 0
  field        SFInt32 Df 8
  field        SFVec3f scale 1 1 1
]
{
  DEF Ef_31 Switch {
    whichChoice IS choice
    choice Shape {
      appearance Appearance {
        material DEF Ff Material {
          emissiveColor IS diffuseColor
        }
      }
      geometry DEF Gf_32 IndexedLineSet {
        coordIndex IS coordIndex
        coord DEF Hf_33 Coordinate {
          point IS coord
        }
      }
    }
  }

  DEF If_34 Script {
    eventIn  SFBool  set_p IS set_p
    eventIn  SFBool  w IS w
    eventOut SFBool  p_changed IS p_changed
    eventOut MFVec3f point_changed IS point_changed
    eventOut MFInt32 zf_changed IS zf_changed
    eventOut MFFloat Sd_changed IS Sd_changed
    eventOut MFVec2f Af_changed IS Af_changed
    eventOut MFInt32 Bf_changed IS Bf_changed
    eventOut SFBool  Cf_changed IS Cf_changed
    eventOut MFVec3f coord
    eventOut MFInt32 coordIndex
    field    SFBool  p IS p
    field    MFVec3f point IS point
    field    MFInt32 zf IS zf
    field    MFFloat Sd IS Sd
    field    MFVec2f Af IS Af
    field    MFInt32 Bf IS Bf
    field    SFBool  Cf IS Cf
    field    SFInt32 Df IS Df
    field    SFNode  ma USE Ef_31

    url "javascript:
function Jf(Kf,Lf,
Mf,Nf,Of,Pf,Qf,Rf){
Sf=coord.length;
coord.length+=Df;
for(J=0;J<Df;J++){
var Tf=Kf.multiply(Of[J]);
Tf=Tf.add(Lf.multiply(Pf[J]));
Tf=Tf.add(Mf.multiply(Qf[J]));
Tf=Tf.add(Nf.multiply(Rf[J]));
coord[Sf+J]=Tf;
}
}
function Uf(){
if(point.length==0)return;
var index=0;
var Vf=new SFVec3f();
var Kf=new SFVec3f();
var Lf=new SFVec3f();
var Mf=new SFVec3f();
var Nf=new SFVec3f();
var Wf=new SFVec3f();
var Xf=new SFVec3f();
var Yf=new SFVec3f();
var Zf=new SFVec3f();
var ag=FALSE;
var bg=FALSE;
var cg=FALSE;
var dg=FALSE;
var eg=FALSE;
var fg=FALSE;
if(zf[index]==1){
Vf=point[index];
ag=TRUE;
Xf=point[index];
cg=TRUE;
index++;
}
if(zf[index]==0){
Kf=point[index];
Yf=point[index];
index++;
}
if(zf[index]==2){
Lf=point[index];
dg=TRUE;
Zf=point[index];
fg=TRUE;
index++;
}
var Of=new MFFloat();
var Pf=new MFFloat();
var Qf=new MFFloat();
var Rf=new MFFloat();
Of.length=Pf.length=Qf.length=Rf.length=Df;
Of[0]=1;
Pf[0]=Qf[0]=Rf[0]=0;
for(J=1;J<Df;J++){
gg=(J*1.0)/Df;
Of[J]=(1-gg)*(1-gg)*(1-gg);
Pf[J]=3*gg*(1-gg)*(1-gg);
Qf[J]=3*gg*gg*(1-gg);
Rf[J]=gg*gg*gg;
}
while(index<zf.length){
bg=FALSE;
eg=FALSE;
if(zf[index]==1){
Mf=point[index];
bg=TRUE;
index++;
}
if((index<zf.length)&&(zf[index]==0)){
Nf=point[index];
index++;
}
if((index<zf.length)&&(zf[index]==2)){
Wf=point[index];
eg=TRUE;
index++;
}
if(dg&&bg){
Jf(Kf,Lf,
Mf,Nf,
Of,Pf,Qf,Rf);
}else if(dg){
Jf(Kf,Lf,
Nf,Nf,
Of,Pf,Qf,Rf);
}else if(bg){
Jf(Kf,Kf,
Mf,Nf,
Of,Pf,Qf,Rf);
}else{
coord[coord.length]=Kf;
}
Vf=Mf;
Kf=Nf;
Lf=Wf;
ag=bg;
dg=eg;
}
if(Cf){
if(eg&&cg){
Jf(Nf,Wf,
Xf,Yf,
Of,Pf,Qf,Rf);
}else if(eg){
Jf(Nf,Wf,
Yf,Yf,
Of,Pf,Qf,Rf);
}else if(cg){
Jf(Nf,Nf,
Xf,Yf,
Of,Pf,Qf,Rf);
}else{
coord[coord.length]=Nf;
}
coord[coord.length]=Yf;
}else{
coord[coord.length]=Nf;
}
coordIndex.length=coord.length+1;
for(J=0;J<coord.length;J++){
coordIndex[J]=J;
}
coordIndex[coordIndex.length-1]=-1;
}
function set_p(n){
if(n==TRUE){
ma.whichChoice=0;
}else{
ma.whichChoice=-1;
}
p=n;
p_changed=n;
}
function initialize(){
set_p(p);
Uf();
point_changed=point;
zf_changed=zf;
Sd_changed=Sd;
Af_changed=Af;
Bf_changed=Bf;
Cf_changed=Cf;
}
function w(){
}
"
    directOutput TRUE
  }

  ROUTE If_34.coord TO Hf_33.set_point
  ROUTE If_34.coordIndex TO Gf_32.set_coordIndex
}

PROTO hg [
  eventIn SFVec3f    set_position
  eventIn SFRotation set_orientation
  field   SFNode     U NULL
  field   SFVec3f    offset 0 0 0
  field   SFRotation ig 0 0 1 0
  field   SFFloat    jg 0
  field   SFVec3f    center 0 0 0
  field   SFBool     T TRUE
  field   SFBool     kg TRUE
]
{
  Script {
    eventIn SFVec3f    set_position IS set_position
    eventIn SFRotation set_orientation IS set_orientation
    field   SFNode     U IS U
    field   SFVec3f    offset IS offset
    field   SFRotation ig IS ig
    field   SFBool     kg IS kg
    field   SFVec3f    lg 0 0 0
    field   SFVec3f    ff 0 0 0

    url "javascript:
function Re(U,Se){
var Te=new VrmlMatrix();
for(var J=U.C.length-1;J>=0;J--){
Te.setTransform(U.C[J].translation,
U.C[J].rotation,
U.C[J].scale,
U.C[J].scaleOrientation,
U.C[J].center);
Se.multRight(Te);
}
}
function Ue(Ve,Se){
var We=Ve;
while(We.G==FALSE){
Re(We,Se);
We=We.B;
}
}
function set_orientation(mg)
{
if(!kg){
var ng=new VrmlMatrix();
Ue(U.B,ng);
var og=ng.inverse();
var pg=og.multVecMatrix(lg);
var qg=new SFVec3f();
var rg=new SFRotation();
var sg=new SFVec3f();
og.getTransform(qg,rg,sg);
var tg=mg.multiply(rg);
var ug=ig.multiply(tg);
var vg=ug.multVec(offset);
U.C[0].translation=pg.add(vg);
U.C[0].rotation=ug;
U.C[0].center=ff;
}
}
function set_position(wg)
{
if(kg){
var ng=new VrmlMatrix();
Ue(U.B,ng);
var og=ng.inverse();
var pg=og.multVecMatrix(wg);
xg=new VrmlMatrix();
xg.setTransform(ff,
U.C[0].rotation,
U.C[0].scale,
U.C[0].scaleOrientation,
U.C[0].center);
vg=xg.multVecMatrix(offset);
U.C[0].translation=pg.add(vg);
U.C[0].center=ff;
}else{
lg=wg;
}
}
"
    directOutput TRUE
  }
}

PROTO yg [
  eventIn  SFFloat    set_fraction
  eventIn  SFTime     R
  eventOut SFVec3f    zg
  eventOut SFRotation Ag
  eventOut SFVec3f    Bg
  eventOut SFRotation Cg
  eventOut SFTime     Dg
  field    SFNode     Eg NULL
  field    SFBool     Fg FALSE
  field    SFFloat    Gg 0
  field    SFVec3f    Hg 0 0 1
  field    SFInt32    reverse 0
  field    SFBool     Ig FALSE
]
{
  DEF I Script {
    eventIn  SFFloat    set_fraction IS set_fraction
    eventIn  SFTime     R IS R
    eventOut SFVec3f    zg IS zg
    eventOut SFRotation Ag IS Ag
    eventOut SFVec3f    Bg IS Bg
    eventOut SFRotation Cg IS Cg
    eventOut SFTime     Dg IS Dg
    field    SFNode     Jg IS Eg
    field    SFBool     Fg IS Fg
    field    SFFloat    Gg IS Gg
    field    SFVec3f    Hg IS Hg
    field    SFInt32    reverse IS reverse
    field    SFBool     Ig IS Ig
    field    SFBool     Kg FALSE
    field    SFFloat    Lg 0
    field    SFFloat    Qa 0

    url "javascript:
function Re(U,Se){
var Te=new VrmlMatrix();
for(var J=U.C.length-1;J>=0;J--){
Te.setTransform(U.C[J].translation,
U.C[J].rotation,
U.C[J].scale,
U.C[J].scaleOrientation,
U.C[J].center);
Se.multRight(Te);
}
}
function Ue(Ve,Se){
var We=Ve;
while(We.G==FALSE){
Re(We,Se);
We=We.B;
}
}
function Mg(Se){
Re(Jg,Se);
Ue(Jg.B,Se);
}
function R(n,Za)
{
Dg=Za;
var J=0;
var Ng=0;
while((J<Jg.zf_changed.length)&&(Ng<2)){
if(Jg.zf_changed[J]==0){
Ng=Ng+1;
}
J++;
}
if(Ng<2){
Kg=TRUE;
}
else{
Kg=FALSE;
}
if(Ig==FALSE){
Lg=0;
}else{
Lg=Qa;
}
}
function Og(Pg,Za)
{
Qg=new MFVec3f();
Qg[0]=Pg[0].add((Pg[1].add(Pg[0].negate())).multiply(Za));
Qg[1]=Pg[1].add((Pg[2].add(Pg[1].negate())).multiply(Za));
Qg[2]=Pg[2].add((Pg[3].add(Pg[2].negate())).multiply(Za));
Rg=new MFVec3f();
Rg[0]=Qg[0].add((Qg[1].add(Qg[0].negate())).multiply(Za));
Rg[1]=Qg[1].add((Qg[2].add(Qg[1].negate())).multiply(Za));
Sg=Rg[0].add((Rg[1].add(Rg[0].negate())).multiply(Za));
return Sg;
}
function Tg(index)
{
Pg=new MFVec3f();
Pg[0]=Jg.point_changed[index];
index=(index+1)%Jg.zf_changed.length;
if(Jg.zf_changed[index]==2)
{
Pg[1]=Jg.point_changed[index];
index=(index+1)%Jg.zf_changed.length;
}
else if(Jg.zf_changed[index]==0)
{
Pg[3]=Jg.point_changed[index];
Pg[1]=(Pg[3].subtract(Pg[0])).multiply(1.0/3.0).add(Pg[0]);
Pg[2]=(Pg[3].subtract(Pg[0])).multiply(2.0/3.0).add(Pg[0]);
return Pg;
}
else
{
Pg[1]=Pg[0];
}
Pg[2]=Jg.point_changed[index];
if(Jg.zf_changed[index]==1)
{
index=(index+1)%Jg.zf_changed.length;
}
Pg[3]=Jg.point_changed[index];
return Pg;
}
function Ug(n)
{
var Vg=0;
for(J=0;J<Jg.Sd_changed.length-1;J++){
if((n>=Jg.Sd_changed[J])&&
(n<=Jg.Sd_changed[J+1])){
Vg=J;
break;
}
}
return Vg;
}
function Wg(Za,Vg)
{
Sd=(Za-Jg.Sd_changed[Vg])/(Jg.Sd_changed[Vg+1]-Jg.Sd_changed[Vg]);
return Sd;
}
function Xg(Vg)
{
Yg=0;
Zg=-1;
for(J=0;J<Jg.zf_changed.length;J++){
if(Jg.zf_changed[J]==0){
if(Yg==Vg){
Zg=J;
break;
}
Yg++;
}
}
return Zg;
}
function ah(index,Za)
{
Pg=Tg(index);
bh=new MFVec3f();
bh[0]=Pg[1].add(Pg[0].negate());
bh[1]=Pg[2].add(Pg[1].negate());
bh[2]=Pg[3].add(Pg[2].negate());
ch=new MFVec3f();
ch[0]=bh[0].add((bh[1].add(bh[0].negate())).multiply(Za));
ch[1]=bh[1].add((bh[2].add(bh[1].negate())).multiply(Za));
dh=ch[0].add((ch[1].add(ch[0].negate())).multiply(Za));
eh=dh.length();
if(eh<1.e-5)
{
fh=Og(Pg,Za);
ba=(Za>0.5)?-0.01:0.01;
Yg=0;
while((eh<1.e-5)&&(Yg<10))
{
Yg=Yg+1;
Za=Za+ba;
gh=Og(Pg,Za);
dh=gh.subtract(fh);
eh=dh.length();
}
if(Za>0.5){dh=dh.negate();}
}
return dh;
}
function hh(index,Za,ih)
{
ih=ih+Gg;
if(ih>1.0)
{
if(Jg.Cf_changed==TRUE)
{
ih=ih-1.0;
}
else
{
ih=1.0;
if(Za>=1.0){
return ah(index,Za);
}
}
}
Vg=Ug(ih);
jh=Wg(ih,Vg);
kh=Xg(Vg);
Pg=Tg(index);
fh=Og(Pg,Za);
if(kh!=index)
{
Pg=Tg(kh);
}
gh=Og(Pg,jh);
dh=gh.subtract(fh);
if(dh.length()<1.e-4)
{
return ah(index,Za);
}
return dh;
}
function lh(index,Za,ih)
{
if(Kg){
return new SFVec3f(0,0,0);
}
if(Gg>0.0)
{
return hh(index,Za,ih);
}
else
{
return ah(index,Za);
}
}
function mh()
{
return new SFVec3f(1.0,0.0,0.0);
}
function nh(oh,ph)
{
if(Kg){
return 0.0;
}
if((oh.length()<0.0001)||(ph.length()<0.0001)){
return 0.0;
}
if(Hg.y>0.5){ph.y=0.0;}
oh=oh.normalize();
ph=ph.normalize();
dot=oh.dot(ph);
if(dot<-1.0){dot=-1.0;}
else if(dot>1.0){dot=1.0;}
angle=Math.acos(dot);
qh=oh.cross(ph);
if(qh.dot(Hg)<0.0)
{angle=-angle;}
return angle;
}
function set_fraction(n){
n+=Lg;
if(n>1){
n-=1;
}
Qa=n;
if(reverse!=0){
n=1.0-n;
}
var rh=new VrmlMatrix();
Mg(rh);
sh=new SFVec3f;
th=new SFRotation;
uh=new SFVec3f;
rh.getTransform(sh,th,uh);
if(Kg)
{
var J=0;
while(J<Jg.point_changed.length){
if(Jg.zf_changed[J]==0){
zg=Jg.point_changed[J];
Bg=rh.multVecMatrix(zg);
if(Fg)
{
Ag=new SFRotation(0.0,0.0,0.0,1.0);
Cg=Ag.multiply(th);
}
return;
}
J=J+1;
}
return;
}
if(n<=0.0){
vh=-1;
if(Jg.zf_changed[0]==0){
vh=0;
}else if(Jg.zf_changed[0]==1){
vh=1;
}
zg=Jg.point_changed[vh];
Bg=rh.multVecMatrix(zg);
if(Fg)
{
wh=lh(vh,0.0,n);
xh=mh();
angle=nh(xh,wh);
Ag=new SFRotation(Hg,angle);
Cg=Ag.multiply(th);
}
return;
}
if(n>=1.0){
if(Jg.Cf_changed==FALSE){
yh=Jg.point_changed.length-1;
if(Jg.zf_changed[yh]==0){
zg=Jg.point_changed[yh];
}else if(Jg.zf_changed[yh]==2){
zg=Jg.point_changed[yh-1];
}
}else{
if(Jg.zf_changed[0]==0){
zg=Jg.point_changed[0];
}else if(Jg.zf_changed[0]==1){
zg=Jg.point_changed[1];
}
}
Bg=rh.multVecMatrix(zg);
if(Fg)
{
J=Jg.point_changed.length;
Ng=1;
if(Jg.Cf_changed==FALSE){
Ng=Ng+1;
}
Yg=0;
while((J>=0)&&(Yg<Ng)){
J--;
if(Jg.zf_changed[J]==0){
Yg=Yg+1;
}
}
if(J>=0)
{
wh=lh(J,1.0,n);
xh=mh();
angle=nh(xh,wh);
Ag=new SFRotation(Hg,angle);
Cg=Ag.multiply(th);
}
else
{
Ag=new SFRotation(0.0,0.0,0.0,1.0);
Cg=Ag.multiply(th);
}
}
return;
}
Vg=Ug(n);
Sd=Wg(n,Vg);
zh=-1;
Zg=Xg(Vg);
if(Jg.zf_changed[(Zg+1)%Jg.zf_changed.length]==0){
zh=(Zg+1)%Jg.zf_changed.length;
Ah=Jg.point_changed[Zg].multiply(1-Sd);
Bh=Jg.point_changed[zh].multiply(Sd);
zg=Ah.add(Bh);
Bg=rh.multVecMatrix(zg);
if(Fg)
{
wh=lh(Zg,Sd,n);
xh=mh();
angle=nh(xh,wh);
Ag=new SFRotation(Hg,angle);
Cg=Ag.multiply(th);
}
return;
}
if(Jg.zf_changed[(Zg+2)%Jg.zf_changed.length]==0){
zh=(Zg+2)%Jg.zf_changed.length;
}else{
zh=(Zg+3)%Jg.zf_changed.length;
}
index=Jg.Bf_changed[Vg];
Ch=Jg.Af_changed[index][0];
while(Ch<=Jg.Af_changed[index][0]){
Dh=Jg.Af_changed[index+1][0];
if((Sd>=Ch)&&(Sd<=Dh)){
Eh=(Sd-Ch)/(Dh-Ch);
gg=Jg.Af_changed[index][1]*(1.0-Eh)+
Jg.Af_changed[index+1][1]*Eh;
break;
}
index++;
Ch=Dh;
}
Of=(1-gg)*(1-gg)*(1-gg);
Pf=3*(1-gg)*(1-gg)*gg;
Qf=3*(1-gg)*gg*gg;
Rf=gg*gg*gg;
Fh=(Zg+1)%Jg.point_changed.length;
if(((Zg+3)%Jg.point_changed.length)==zh){
Gh=Jg.point_changed[Zg].multiply(Of);
Ah=Jg.point_changed[Fh].multiply(Pf);
Bh=Jg.point_changed[zh-1].multiply(Qf);
Hh=Jg.point_changed[zh].multiply(Rf);
}else if(Jg.zf_changed[Fh]==2){
Gh=Jg.point_changed[Zg].multiply(Of);
Ah=Jg.point_changed[Fh].multiply(Pf);
Bh=Jg.point_changed[zh].multiply(Qf);
Hh=Jg.point_changed[zh].multiply(Rf);
}else if(Jg.zf_changed[Fh]==1){
Gh=Jg.point_changed[Zg].multiply(Of);
Ah=Jg.point_changed[Zg].multiply(Pf);
Bh=Jg.point_changed[zh-1].multiply(Qf);
Hh=Jg.point_changed[zh].multiply(Rf);
}
zg=Gh.add(Ah).add(Bh).add(Hh);
Bg=rh.multVecMatrix(zg);
if(Fg)
{
wh=lh(Zg,gg,n);
xh=mh();
Ag=new SFRotation(Hg,nh(xh,wh));
Cg=Ag.multiply(th);
}
}
function initialize(){
Jg.w=TRUE;
}
"
    directOutput TRUE
  }
}

PROTO Ih [
  eventIn      SFFloat  set_intensity
  eventIn      SFTime   set_startTime
  eventIn      SFTime   set_stopTime
  eventIn      SFBool   w
  eventOut     SFFloat  intensity_changed
  eventOut     SFTime   Jh
  exposedField SFFloat  pitch 1
  exposedField SFBool   loop FALSE
  exposedField SFNode   B NULL
  exposedField MFNode   C [ ]
  field        MFString url [ ]
  field        SFFloat  intensity 1
]
{
  DEF Kh_35 Sound {
    intensity IS intensity
    spatialize FALSE
    minBack 1e+06
    minFront 1e+06
    maxBack 1e+06
    maxFront 1e+06
    source DEF Lh_36 AudioClip {
      url IS url
      pitch IS pitch
      loop IS loop
      duration_changed IS Jh
    }
  }

  DEF Mh_37 Script {
    eventIn  SFFloat set_intensity IS set_intensity
    eventIn  SFTime  set_startTime IS set_startTime
    eventIn  SFTime  set_stopTime IS set_stopTime
    eventIn  SFBool  w IS w
    eventOut SFFloat intensity_changed IS intensity_changed
    eventOut SFTime  startTime_changed
    eventOut SFTime  stopTime_changed
    field    SFFloat intensity IS intensity

    url "javascript:
function initialize(){
intensity_changed=intensity;
}
function set_intensity(n){
intensity=n;
intensity_changed=n;
}
function set_startTime(n){
startTime_changed=n;
}
function set_stopTime(n){
stopTime_changed=n;
}
function w(){
}
"
    directOutput TRUE
  }

  ROUTE Mh_37.startTime_changed TO Lh_36.set_startTime
  ROUTE Mh_37.stopTime_changed TO Lh_36.set_stopTime
  ROUTE Mh_37.intensity_changed TO Kh_35.set_intensity
}

PROTO Nh [
  eventIn  SFTime  R
  eventIn  SFTime  S
  eventIn  SFFloat set_intensity
  eventIn  SFFloat set_fraction
  eventIn  SFTime  Jh
  eventOut SFTime  startTime
  eventOut SFTime  stopTime
  field    SFNode  Oh NULL
  field    SFBool  loop FALSE
  field    SFFloat intensity 1
  field    SFFloat pitch 1
  field    SFFloat Qa 0
  field    SFBool  Ph FALSE
  field    SFTime  duration 0
  field    SFBool  Qh FALSE
  field    SFBool  Rh FALSE
]
{
  DEF Sh Script {
    eventIn  SFTime  R IS R
    eventIn  SFTime  S IS S
    eventIn  SFFloat set_intensity IS set_intensity
    eventIn  SFFloat set_fraction IS set_fraction
    eventIn  SFTime  Jh IS Jh
    eventOut SFTime  startTime IS startTime
    eventOut SFTime  stopTime IS stopTime
    field    SFNode  Oh IS Oh
    field    SFBool  loop IS loop
    field    SFFloat intensity IS intensity
    field    SFFloat pitch IS pitch
    field    SFTime  duration IS duration
    field    SFBool  Qh IS Qh
    field    SFBool  Rh IS Rh
    field    SFBool  Th FALSE
    field    SFFloat Qa IS Qa
    field    SFBool  Ph IS Ph
    field    SFBool  Uh FALSE
    field    SFTime  Vh -1
    field    SFTime  ea 0
    field    SFTime  fa 0

    url "javascript:
function initialize(){
if(Qh){
Oh.set_intensity=0;
}else{
Oh.set_intensity=intensity;
}
Oh.loop=loop;
Oh.pitch=pitch;
}
function R(n,time){
if(fa==n){
return;
}
if((Th==TRUE)&&(Vh==-1)){
ea=n;
return;
}
if(Uh==FALSE){
Vh=n;
startTime=n;
Th=TRUE;
return;
}
if(Qh){
Oh.set_intensity=0;
}else{
Oh.set_intensity=intensity;
}
Oh.loop=loop;
Oh.pitch=pitch;
if(Vh>0){
Oh.set_startTime=Vh;
Oh.set_stopTime=Vh-1;
}else{
var Wh=n-(duration/pitch)*Qa;
Oh.set_startTime=Wh;
Oh.set_stopTime=Wh-1;
}
if(Th==FALSE){
startTime=n;
Th=TRUE;
}
Vh=-1;
fa=n;
}
function S(n,time){
if(!Th){
return;
}
if(Ph==FALSE){
Qa=0;
}
if(Qa==1){
Qa=0;
}
Oh.set_stopTime=n;
stopTime=n;
Th=FALSE;
Vh=-1;
if(Qh){
Oh.set_intensity=0;
}else{
Oh.set_intensity=intensity;
}
if(ea==n){
R(n,time);
}
}
function set_intensity(n,time){
if(Qh||Rh){
Oh.set_intensity=n*intensity;
}
}
function set_fraction(n){
Qa=n;
}
function Jh(n,Za){
Uh=TRUE;
if(Vh>0){
R(Za,Za);
}
}
"
    directOutput TRUE
  }
}

PROTO Xh [
  eventIn  SFTime R
  eventIn  SFTime S
  eventOut SFTime R_changed
  eventOut SFTime Yh
]
{
  DEF jb Script {
    eventIn  SFTime R IS R
    eventIn  SFTime S IS S
    eventOut SFTime R_changed IS R_changed
    eventOut SFTime Yh IS Yh
    field    SFBool aa FALSE
    field    SFTime ea 0
    field    SFTime fa 0

    url "javascript:
function initialize(){
aa=FALSE;
}
function R(n){
if(fa==n){
return;
}
if(aa==TRUE){
ea=n;
return;
}
aa=TRUE;
R_changed=n;
fa=n;
}
function S(n){
Yh=n;
aa=FALSE;
if(ea==n){
R(n);
}
}
"
    directOutput TRUE
  }
}

PROTO Zh [
  eventIn      SFBool   set_p
  eventIn      MFVec3f  set_coord
  eventIn      MFVec2f  set_texCoord
  eventIn      SFFloat  set_hd
  eventIn      SFFloat  set_height
  eventIn      SFColor  set_diffuseColor
  eventIn      SFBool   w
  eventIn      SFNode   set_v
  eventOut     SFBool   p_changed
  eventOut     MFVec3f  coord_changed
  eventOut     MFVec2f  texCoord_changed
  eventOut     SFFloat  hd_changed
  eventOut     SFFloat  height_changed
  eventOut     SFColor  diffuseColor_changed
  eventOut     SFNode   v_changed
  exposedField MFString url [ ]
  exposedField SFFloat  transparency 0
  exposedField SFColor  emissiveColor 0 0 0
  exposedField SFColor  specularColor 0 0 0
  exposedField SFFloat  shininess 0.2
  exposedField SFVec2f  q -0.5 -0.5
  exposedField SFFloat  s 0
  exposedField SFVec2f  t 1 1
  exposedField SFVec2f  u 0 0
  exposedField SFNode   B NULL
  exposedField MFNode   C [ ]
  exposedField SFNode   D NULL
  exposedField SFInt32  F -1
  field        SFBool   p TRUE
  field        SFFloat  hd 72
  field        SFFloat  height 72
  field        MFInt32  ai [ 1, 1 ]
  field        SFInt32  bi -1
  field        SFColor  Jb 0 0 0
  field        SFColor  Kb 0 0 0
  field        SFInt32  Lb -1
  field        SFBool   H TRUE
  field        SFVec2f  ci 1 1
  field        SFColor  diffuseColor 1 1 1
  field        SFBool   di FALSE
  field        SFInt32  choice 0
  field        SFVec3f  ha 0 0 0
  field        MFVec3f  coord [ ]
  field        MFVec2f  texCoord [ ]
  field        MFInt32  coordIndex [ ]
  field        MFColor  color [ ]
]
{
  DEF ei_38 Switch {
    whichChoice IS choice
    choice [
      Shape {
        appearance DEF fi_39 Appearance {
          material Material {
            diffuseColor IS diffuseColor
            specularColor IS specularColor
            emissiveColor IS emissiveColor
            shininess IS shininess
            transparency IS transparency
          }
          texture DEF gi_40 ImageTexture {
            url IS url
          }
          textureTransform DEF hi_41 TextureTransform {
            translation IS u
            rotation IS s
            scale IS t
            center IS q
          }
        }
        geometry DEF ii_42 IndexedFaceSet {
          solid FALSE
          creaseAngle 3
          coordIndex IS coordIndex
          texCoord DEF ki_44 TextureCoordinate {
            point IS texCoord
          }
          coord DEF ji_43 Coordinate {
            point IS coord
          }
        }
      }
      Shape {
        appearance DEF li_45 Appearance {
          texture USE gi_40
          textureTransform USE hi_41
        }
        geometry DEF mi_46 IndexedFaceSet {
          solid FALSE
          creaseAngle 3
          coordIndex IS coordIndex
          texCoord DEF pi_49 TextureCoordinate {
            point IS texCoord
          }
          color DEF oi_48 Color {
            color IS color
          }
          coord DEF ni_47 Coordinate {
            point IS coord
          }
        }
      }
      Shape {
        appearance USE fi_39
        geometry USE mi_46
      }
      Shape {
        appearance USE li_45
        geometry USE mi_46
      }
    ]
  }

  DEF qi_50 Script {
    eventIn  SFBool  set_p IS set_p
    eventIn  MFVec3f set_coord IS set_coord
    eventIn  MFVec2f set_texCoord IS set_texCoord
    eventIn  SFFloat set_hd IS set_hd
    eventIn  SFFloat set_height IS set_height
    eventIn  SFColor set_diffuseColor IS set_diffuseColor
    eventIn  SFBool  w IS w
    eventIn  SFNode  set_v IS set_v
    eventOut MFInt32 coordIndex
    eventOut SFBool  p_changed IS p_changed
    eventOut MFVec3f coord_changed IS coord_changed
    eventOut MFVec2f texCoord_changed IS texCoord_changed
    eventOut MFColor color_changed
    eventOut SFFloat hd_changed IS hd_changed
    eventOut SFFloat height_changed IS height_changed
    eventOut SFColor diffuseColor_changed IS diffuseColor_changed
    eventOut SFNode  v_changed IS v_changed
    field    SFBool  p IS p
    field    MFVec3f coord [ ]
    field    MFVec2f texCoord [ ]
    field    MFColor color [ ]
    field    MFInt32 ai IS ai
    field    SFBool  H IS H
    field    SFColor Jb IS Jb
    field    SFColor Kb IS Kb
    field    SFInt32 Lb IS Lb
    field    SFFloat hd IS hd
    field    SFFloat height IS height
    field    SFBool  di IS di
    field    SFColor diffuseColor IS diffuseColor
    field    SFNode  ma USE ei_38
    field    SFNode  ic USE fi_39
    field    SFNode  jc USE li_45
    field    SFVec2f ci IS ci

    url "javascript:
function ld(){
ri=-0.5*hd/72;
si=-ri;
ti=-0.5*height/72;
ui=-ti;
if(di==FALSE){
vi=(si-ri)/ai[0];
wi=(ui-ti)/ai[1];
xi=1/ai[0];
yi=1/ai[1];
coord.length=(ai[0]+1)*(ai[1]+1);
texCoord.length=coord.length;
for(J=0;J<=ai[1];J++){
for(qc=0;qc<=ai[0];qc++){
index=J*(ai[0]+1)+qc;
if(qc==ai[0]){
coord[index].x=si;
}else{
coord[index].x=ri+qc*vi;
}
if(J==ai[1]){
coord[index].y=ui;
}else{
coord[index].y=ti+J*wi;
}
coord[index].z=0;
if(qc==ai[0]){
texCoord[index].x=.5+.5*ci[0];
}else{
texCoord[index].x=.5-.5*ci[0]+qc*xi*ci[0];
}
if(J==ai[1]){
texCoord[index].y=.5+.5*ci[1];
}else{
texCoord[index].y=.5-.5*ci[1]+J*yi*ci[1];
}
}
}
index=0;
for(J=0;J<ai[1];J++){
for(qc=0;qc<ai[0];qc++){
coordIndex[index++]=J*(ai[0]+1)+qc;
coordIndex[index++]=J*(ai[0]+1)+qc+1;
coordIndex[index++]=(J+1)*(ai[0]+1)+qc+1;
coordIndex[index++]=(J+1)*(ai[0]+1)+qc;
coordIndex[index++]=-1;
}
}
}else{
coord.length=1+(ai[0])*(ai[1]);
texCoord.length=1+(ai[0])*(ai[1]);
index=0;
coord[index].x=0;
coord[index].y=0;
coord[index].z=0;
texCoord[index].x=.5;
texCoord[index].y=.5;
zi=new MFVec3f();
zi.length=ai[0];
angle=0;
Ai=2*Math.PI/ai[0];
for(J=0;J<ai[0];J++){
zi[J].x=Math.cos(angle);
zi[J].y=Math.sin(angle);
zi[J].z=0;
angle+=Ai;
}
for(J=0;J<ai[1];J++){
Bi=0.5*hd*(J+1)/(ai[1]*72);
Ci=0.5*height*(J+1)/(ai[1]*72);
Di=0.5*(J+1)/ai[1];
for(qc=0;qc<ai[0];qc++){
index=1+J*(ai[0])+qc;
coord[index].x=zi[qc].x*Bi;
coord[index].y=zi[qc].y*Ci;
texCoord[index].x=0.5+zi[qc].x*Di*ci[0];
texCoord[index].y=0.5+zi[qc].y*Di*ci[1];
coord[index].z=0;
}
}
index=0;
for(J=0;J<ai[1];J++){
if(J==0){
for(qc=0;qc<ai[0];qc++){
coordIndex[index++]=0;
coordIndex[index++]=1+(J*ai[0])+qc;
Ei=(qc+1)%ai[0];
coordIndex[index++]=1+(J*ai[0])+Ei;
coordIndex[index++]=-1;
}
}else{
for(qc=0;qc<ai[0];qc++){
coordIndex[index++]=1+((J-1)*ai[0])+qc;
Ei=(qc+1)%ai[0];
coordIndex[index++]=1+(J*ai[0])+qc;
coordIndex[index++]=1+(J*ai[0])+Ei;
coordIndex[index++]=1+((J-1)*ai[0])+Ei;
coordIndex[index++]=-1;
}
}
}
}
hd_changed=hd;
height_changed=height;
coord_changed=coord;
texCoord_changed=texCoord;
}
function gd(){
if((H==TRUE)&&(Lb==-1))return;
ri=-0.5*hd/72;
si=-ri;
ti=-0.5*height/72;
ui=-ti;
for(id=0;id<coord.length;id++){
if(Lb==0){
fraction=(coord[id].x-ri)/(si-ri);
}else if(Lb==1){
fraction=(coord[id].y-ti)/(ui-ti);
}else if((Lb==2)&&(di==TRUE)){
if(id==0){
fraction=0;
Fi=1;
}else{
fraction=Fi/ai[1];
if((id%ai[0])==0){
Fi++;
}
}
}
jd=new SFColor(0,0,0);
if(Lb==-1){
jd=diffuseColor;
}else{
jd.r=Kb.r*(1-fraction)+
Jb.r*fraction;
jd.g=Kb.g*(1-fraction)+
Jb.g*fraction;
jd.b=Kb.b*(1-fraction)+
Jb.b*fraction;
}
color[id]=jd;
}
color_changed=color;
}
function set_p(n){
if(n==TRUE){
if(H==TRUE){
if(Lb>=0){
ma.whichChoice=2;
}else{
ma.whichChoice=0;
}
}else{
if(Lb>=0){
ma.whichChoice=3;
}else{
ma.whichChoice=1;
}
}
}else{
ma.whichChoice=-1;
}
p=n;
p_changed=n;
}
function initialize(){
ld();
v_changed=ic.texture_changed;
diffuseColor_changed=diffuseColor;
gd();
set_p(p);
}
function set_coord(n){
coord_changed=n;
}
function set_texCoord(n){
texCoord_changed=n;
}
function set_v(n){
ic.set_texture=n;
jc.set_texture=n;
v_changed=n;
}
function set_hd(n){
hd=n;
ld();
}
function set_height(n){
height=n;
ld();
}
function set_diffuseColor(n){
diffuseColor=n;
diffuseColor_changed=n;
gd();
}
function w(){
}
"
    directOutput TRUE
  }

  ROUTE qi_50.coord_changed TO ji_43.set_point
  ROUTE qi_50.texCoord_changed TO ki_44.set_point
  ROUTE qi_50.coordIndex TO ii_42.set_coordIndex
  ROUTE qi_50.coord_changed TO ni_47.set_point
  ROUTE qi_50.color_changed TO oi_48.set_color
  ROUTE qi_50.texCoord_changed TO pi_49.set_point
  ROUTE qi_50.coordIndex TO mi_46.set_coordIndex
  ROUTE qi_50.coordIndex TO mi_46.set_colorIndex
}

WorldInfo {
  info "Published by Cosmo PageFX V1.0"
}

DEF Gi Group {
  children [
    DEF Hi f { }
    DEF Ii Viewpoint {
      position 0 0 5
      fieldOfView 0.3519
      description "Home"
    }
    DEF Ji NavigationInfo {
      headlight FALSE
      type "NONE"
    }
    DEF Ki Background {
      skyColor 0.749 0.749 0.749
    }
    DEF Li o {
      G TRUE
      children [
        DEF Mi Transform {
          translation -0.951 0.2225 2.99
          rotation -0.145494 -0.989359 0 0.7418
          children DEF Ni Transform {
            children DEF Oi K {
              B USE Li
              C [
                USE Mi
                USE Ni
              ]
              L 1.528
              attenuation 0.001 0.6545 0
            }
          }
        }
        DEF Pi Transform {
          translation -1.271 -0.1785 0.68
          rotation 1 0 0 3.166
          center 0 0 1.94e-08
          children DEF Qi Q {
            center 0 0 1.94e-08
            U DEF Ri ga {
              url "stripe.png"
              diffuseColor 1 0 1
              emissiveColor 0 0 0
              specularColor 0.04 0.16 0.28
              shininess 0.02
              s 1.047
              t 2 2
              B USE Li
              C [
                USE Pi
                USE Qi
                DEF Si Transform {
                  scale 0.5154 0.6149 0.5154
                  children [
                    DEF Ti na {
                      oa 1
                    }
                    USE Ri
                    DEF Ui ra {
                      cycleInterval 3
                      Da FALSE
                      Ia TRUE
                    }
                    DEF Vi gb {
                      U USE Ri
                      direction 1
                    }
                    DEF Wi nb { }
                    DEF Xi ra {
                      Da FALSE
                      Ia TRUE
                    }
                  ]
                }
              ]
              geometry Cone {
                height 1
                bottomRadius 0.5
              }
              ha 0 0 0.25
            }
            children USE Si
          }
        }
        DEF Yi Transform {
          translation -0.6985 -0.1547 0.7377
          rotation 0 0 1 0.3252
          center 0 0 -1.282e-08
          children DEF Zi Q {
            center 0 0 -1.282e-08
            U DEF aj ga {
              url "globe.jpg"
              diffuseColor 0.6 0.6 0.6
              emissiveColor 0.2 0.2 0.12
              specularColor 0.8 0.8 0.8
              shininess 0.15
              B USE Li
              C [
                USE Yi
                USE Zi
                DEF bj Transform {
                  scale 0.4064 0.4064 0.4064
                  children [
                    USE aj
                    DEF cj ra {
                      cycleInterval 6
                      Da FALSE
                      Ia TRUE
                    }
                  ]
                }
              ]
              geometry Sphere {
                radius 0.5
              }
            }
            children USE bj
            W 1
          }
        }
        DEF dj Transform {
          translation -0.7941 -0.386 0.7019
          center 0 0 -5.221e-09
          children DEF ej Transform {
            scale 0.0876 0.3115 0.0876
            children DEF fj ga {
              url ""
              diffuseColor 0.8 0 0
              emissiveColor 0.15 0 0
              B USE Li
              C [
                USE dj
                USE ej
              ]
              geometry Cylinder {
                height 1
                radius 0.5
              }
            }
          }
        }
        DEF gj Transform {
          translation -0.5524 -0.4097 0.6894
          rotation 0 0 1 0.7457
          center 0 0 -5.221e-09
          children DEF hj Transform {
            scale 0.0876 0.3115 0.0876
            children DEF ij ga {
              url ""
              diffuseColor 1 0 0
              emissiveColor 0.2 0 0
              specularColor 0 0 0
              shininess 0
              B USE Li
              C [
                USE gj
                USE hj
              ]
              geometry Cylinder {
                height 1
                radius 0.5
              }
            }
          }
        }
        DEF jj Transform {
          translation -0.4473 -0.3719 0.6801
          children DEF kj Transform {
            scale 0.9219 0.9219 0.9219
            children [
              DEF lj o {
                B USE Li
                C [
                  USE jj
                  USE kj
                ]
                children DEF mj Transform {
                  translation 0 0 -0.005423
                  children DEF nj Transform {
                    scale 0.96 0.96 1
                    children DEF oj zb {
                      url ""
                      emissiveColor 0.01 0.18 0.1
                      specularColor 0 0 0
                      shininess 0
                      Cb 0.9888
                      B USE lj
                      C [
                        USE mj
                        USE nj
                      ]
                      Fb TRUE
                      Gb FALSE
                      Hb 0.01 0
                      Ib 0.79 0.6
                      Mb DEF pj md {
                        coord [ 0.37 0 0, 0.38 0 0, 0.62 0.51 0, 0.62 0.11 0, 0.61 0.07 0, 0.6 0.04 0, 0.58 0.02 0, 0.55 0.01 0, 0.53 0.01 0, 0.53 0 0, 0.79 0 0, 0.79 0.01 0, 0.76 0.01 0, 0.73 0.02 0, 0.71 0.04 0, 0.7 0.06 0, 0.7 0.54 0, 0.71 0.57 0, 0.73 0.59 0, 0.79 0.59 0, 0.79 0.6 0, 0.62 0.6 0, 0.39 0.13 0, 0.18 0.6 0, 0.01 0.6 0, 0.01 0.59 0, 0.04 0.59 0, 0.06 0.58 0, 0.09 0.56 0, 0.09 0.53 0, 0.1 0.49 0, 0.1 0.11 0, 0.09 0.07 0, 0.08 0.04 0, 0.06 0.02 0, 0.03 0.01 0, 0.01 0.01 0, 0.01 0 0, 0.23 0 0, 0.23 0.01 0, 0.2 0.01 0, 0.17 0.02 0, 0.15 0.04 0, 0.14 0.06 0, 0.14 0.51 0 ]
                        coordIndex [ 30, 28, 29, -1, 38, 36, 37, -1, 36, 38, 35, -1, 35, 38, 34, -1, 34, 38, 33, -1, 33, 38, 40, -1, 33, 40, 41, -1, 33, 41, 32, -1, 32, 41, 42, -1, 32, 42, 31, -1, 31, 42, 43, -1, 31, 43, 30, -1, 40, 38, 39, -1, 10, 8, 9, -1, 8, 10, 7, -1, 7, 10, 6, -1, 6, 10, 5, -1, 5, 10, 13, -1, 5, 13, 4, -1, 4, 13, 3, -1, 3, 13, 14, -1, 3, 14, 15, -1, 3, 15, 2, -1, 2, 15, 21, -1, 13, 10, 12, -1, 12, 10, 11, -1, 21, 18, 20, -1, 18, 21, 17, -1, 17, 21, 16, -1, 16, 21, 15, -1, 20, 18, 19, -1, 26, 24, 25, -1, 24, 26, 23, -1, 23, 26, 27, -1, 23, 27, 28, -1, 23, 28, 30, -1, 23, 30, 44, -1, 44, 30, 43, -1, 23, 44, 0, -1, 23, 0, 22, -1, 22, 0, 1, -1, 22, 1, 2, -1, 22, 2, 21, -1 ]
                        mc [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, -1 ]
                      }
                      Ob 0.04
                      Pb 0.1389
                      creaseAngle 0
                      diffuseColor 0.03 0.49 0.22
                    }
                  }
                }
                A USE oj
              }
              DEF qj ra {
                cycleInterval 4
                Ca 3
                Da FALSE
              }
              DEF rj nd {
                U USE lj
                hb TRUE
                ib TRUE
                pd TRUE
                qd TRUE
                rd TRUE
                sd TRUE
                td TRUE
                vd TRUE
                wd TRUE
                xd TRUE
                diffuseColor 0.76 1 0.76
                emissiveColor 0.04 0 0.06
                specularColor 0 0 0
                shininess 0
              }
            ]
          }
        }
        DEF sj Transform {
          translation 1.264 -0.3495 0.7311
          center 1.639e-07 0.2337 -0.007482
          children DEF tj Transform {
            children [
              DEF uj je {
                oa 1
              }
              DEF vj na {
                oa 1
              }
              DEF wj o {
                B USE Li
                C [
                  USE sj
                  USE tj
                ]
                children [
                  DEF xj Transform {
                    translation -0.3425 0 -0.004982
                    children DEF yj Transform {
                      scale 0.72 0.72 1
                      children DEF zj zb {
                        url ""
                        emissiveColor 0.1 0.02 0
                        specularColor 0.1 0.1 0.1
                        shininess 0.08
                        Cb 0.4848
                        B USE wj
                        C [
                          USE xj
                          USE yj
                        ]
                        Fb TRUE
                        Gb FALSE
                        Hb 0.03214 -0.006429
                        Ib 0.9193 0.6557
                        Mb DEF Aj md {
                          coord [ 0.3793 0.07071 0, 0.1221 0.07071 0, 0.1479 0.1157 0, 0.1736 0.1479 0, 0.2186 0.1993 0, 0.2636 0.2443 0, 0.2957 0.2893 0, 0.3471 0.3536 0, 0.3664 0.4114 0, 0.3793 0.4757 0, 0.3664 0.54 0, 0.3343 0.6043 0, 0.315 0.63 0, 0.2507 0.6557 0, 0.2121 0.6557 0, 0.1479 0.6493 0, 0.09643 0.6107 0, 0.05786 0.5464 0, 0.045 0.4629 0, 0.1093 0.4564 0, 0.1157 0.5143 0, 0.135 0.5593 0, 0.1671 0.585 0, 0.2121 0.5914 0, 0.2507 0.585 0, 0.2829 0.5593 0, 0.3021 0.5271 0, 0.315 0.4821 0, 0.3021 0.4307 0, 0.2829 0.3857 0, 0.2636 0.3536 0, 0.2379 0.3214 0, 0.2057 0.2829 0, 0.1671 0.2379 0, 0.09643 0.1671 0, 0.05786 0.1029 0, 0.03857 0.05143 0, 0.03214 0 0, 0.3793 0 0 ]
                          coordIndex [ 38, 36, 37, -1, 36, 38, 1, -1, 36, 1, 35, -1, 35, 1, 34, -1, 1, 38, 0, -1, 1, 33, 34, -1, 33, 1, 2, -1, 33, 2, 3, -1, 33, 3, 32, -1, 32, 3, 4, -1, 32, 4, 31, -1, 31, 4, 5, -1, 31, 5, 30, -1, 30, 5, 6, -1, 30, 6, 29, -1, 29, 6, 28, -1, 28, 6, 7, -1, 28, 7, 27, -1, 27, 7, 12, -1, 12, 7, 11, -1, 11, 7, 10, -1, 10, 7, 8, -1, 10, 8, 9, -1, 19, 17, 18, -1, 17, 19, 16, -1, 16, 19, 20, -1, 16, 20, 15, -1, 15, 20, 21, -1, 15, 21, 22, -1, 15, 22, 14, -1, 14, 22, 23, -1, 14, 23, 24, -1, 14, 24, 13, -1, 13, 24, 25, -1, 13, 25, 12, -1, 12, 25, 26, -1, 12, 26, 27, -1 ]
                          mc [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, -1 ]
                        }
                        Ob 0.04
                        Pb 0.1389
                        creaseAngle 0
                        diffuseColor 0.9 0.15 0
                      }
                    }
                  }
                  DEF Bj Transform {
                    translation -0.07406 0 -0.009982
                    children DEF Cj Transform {
                      scale 0.72 0.72 1
                      children DEF Dj zb {
                        url ""
                        emissiveColor 0.1 0.02 0
                        specularColor 0.1 0.1 0.1
                        shininess 0.08
                        Cb 0.4848
                        B USE wj
                        C [
                          USE Bj
                          USE Cj
                        ]
                        Fb TRUE
                        Gb FALSE
                        Hb -0.3407 -0.006429
                        Ib 0.5464 0.6557
                        Mb DEF Ej md {
                          coord [ 0.06429 0 0, 0.135 0 0, 0.135 0.09 0, 0.06429 0.09 0 ]
                          coordIndex [ 1, 3, 0, -1, 3, 1, 2, -1 ]
                          mc [ 0, 1, 2, 3, -1 ]
                        }
                        Ob 0.04
                        Pb 0.1389
                        creaseAngle 0
                        diffuseColor 0.9 0.15 0
                      }
                    }
                  }
                  DEF Fj Transform {
                    translation 0.04629 0 -0.005
                    children DEF Gj Transform {
                      scale 0.72 0.72 1
                      children DEF Hj zb {
                        url ""
                        emissiveColor 0.1 0.02 0
                        specularColor 0.1 0.1 0.1
                        shininess 0.08
                        Cb 0.4848
                        B USE wj
                        C [
                          USE Fj
                          USE Gj
                        ]
                        Fb TRUE
                        Gb FALSE
                        Hb -0.5079 -0.006429
                        Ib 0.3793 0.6557
                        Mb DEF Ij md {
                          coord [ 0.09643 0.3986 0, 0.1029 0.4564 0, 0.1093 0.5079 0, 0.1221 0.54 0, 0.1414 0.5657 0, 0.18 0.5914 0, 0.225 0.5914 0, 0.2636 0.5657 0, 0.2829 0.54 0, 0.2957 0.5079 0, 0.3021 0.4629 0, 0.3086 0.3986 0, 0.315 0.3279 0, 0.3086 0.2571 0, 0.3021 0.1929 0, 0.2957 0.1479 0, 0.2829 0.1157 0, 0.2636 0.09 0, 0.225 0.06429 0, 0.2057 0.05786 0, 0.18 0.06429 0, 0.1414 0.09 0, 0.1221 0.1157 0, 0.1093 0.1479 0, 0.1029 0.1929 0, 0.09643 0.2571 0, 0.03214 0.2443 0, 0.03857 0.1736 0, 0.05786 0.1157 0, 0.07714 0.07071 0, 0.1029 0.03857 0, 0.135 0.01286 0, 0.1671 0 0, 0.1993 -0.006429 0, 0.2443 0 0, 0.2764 0.01929 0, 0.3086 0.045 0, 0.3343 0.08357 0, 0.3536 0.1286 0, 0.3664 0.1864 0, 0.3729 0.2507 0, 0.3793 0.3279 0, 0.3729 0.4114 0, 0.36 0.4821 0, 0.3471 0.54 0, 0.3214 0.5914 0, 0.3021 0.6171 0, 0.27 0.6429 0, 0.2379 0.6557 0, 0.1607 0.6557 0, 0.1286 0.6364 0, 0.09643 0.6107 0, 0.07071 0.5721 0, 0.05143 0.5271 0, 0.03857 0.4693 0, 0.03214 0.405 0 ]
                          coordIndex [ 30, 25, 29, -1, 25, 30, 24, -1, 24, 30, 23, -1, 23, 30, 31, -1, 23, 31, 22, -1, 22, 31, 21, -1, 21, 31, 32, -1, 21, 32, 20, -1, 20, 32, 33, -1, 20, 33, 19, -1, 19, 33, 34, -1, 19, 34, 18, -1, 18, 34, 17, -1, 17, 34, 35, -1, 17, 35, 16, -1, 16, 35, 36, -1, 16, 36, 15, -1, 15, 36, 14, -1, 14, 36, 13, -1, 13, 36, 37, -1, 13, 37, 12, -1, 12, 37, 45, -1, 45, 37, 44, -1, 44, 37, 38, -1, 44, 38, 43, -1, 43, 38, 39, -1, 43, 39, 42, -1, 42, 39, 40, -1, 42, 40, 41, -1, 27, 55, 26, -1, 55, 27, 54, -1, 54, 27, 28, -1, 54, 28, 53, -1, 53, 28, 52, -1, 52, 28, 29, -1, 52, 29, 51, -1, 51, 29, 25, -1, 51, 25, 0, -1, 51, 0, 1, -1, 51, 1, 2, -1, 51, 2, 50, -1, 50, 2, 3, -1, 50, 3, 4, -1, 50, 4, 49, -1, 49, 4, 5, -1, 49, 5, 48, -1, 48, 5, 6, -1, 48, 6, 7, -1, 48, 7, 47, -1, 47, 7, 8, -1, 47, 8, 46, -1, 46, 8, 9, -1, 46, 9, 10, -1, 46, 10, 11, -1, 46, 11, 45, -1, 45, 11, 12, -1 ]
                          mc [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, -1 ]
                        }
                        Ob 0.04
                        Pb 0.1389
                        creaseAngle 0
                        diffuseColor 0.9 0.15 0
                      }
                    }
                  }
                ]
                A [
                  USE zj
                  USE Dj
                  USE Hj
                ]
              }
              DEF Jj me {
                re USE sj
              }
              DEF Kj xe {
                ye USE Jj
                ze USE Jj
                Ae USE wj
                Ce 86
              }
              DEF Lj nb { }
              DEF Mj ra {
                Da FALSE
                Fa 0.5
              }
              DEF Nj Ge {
                center 1.639e-07 0.2337 -0.007482
                U USE wj
              }
              DEF Oj xe {
                ye USE Nj
                ze USE Mj
                Ae USE wj
                Ce 90
              }
            ]
          }
        }
        DEF Pj Transform {
          translation 0.3736 -0.7009 0.7521
          rotation 1 0 0 3.13
          center 0.253 0.2677 0
          children DEF Qj hf {
            center 0.253 0.2677 0
            children DEF Rj Transform {
              scale 0.1293 0.7015 0.1824
              children [
                DEF Sj ga {
                  url ""
                  diffuseColor 0.8 0.8 0
                  emissiveColor 0.15 0.15 0
                  B USE Li
                  C [
                    USE Pj
                    USE Qj
                    USE Rj
                  ]
                  geometry Cone {
                    height 1
                    bottomRadius 0.5
                  }
                  ha 0 0 0.25
                }
                DEF Tj ra {
                  Da FALSE
                }
              ]
            }
            U USE Sj
            kf 17
            lf 0.6
          }
        }
        DEF Uj Transform {
          translation 0.5037 -0.3512 0.749
          rotation 0.767059 -0.641566 0.0036798 3.133
          scaleOrientation 0.1555 -0.1734 -0.972498 0.7118
          center 0 0 -2.608e-08
          children DEF Vj hf {
            center 0 0 -2.608e-08
            children DEF Wj Transform {
              scale 0.1583 0.4654 0.1583
              children [
                DEF Xj ga {
                  url ""
                  diffuseColor 0.8 0.8 0
                  emissiveColor 0.15 0.15 0
                  B USE Li
                  C [
                    USE Uj
                    USE Vj
                    USE Wj
                  ]
                  geometry Cone {
                    height 1
                    bottomRadius 0.5
                  }
                  ha 0 0 0.25
                }
                DEF Yj ra {
                  Da FALSE
                }
              ]
            }
            U USE Xj
            kf 4
            lf 0.5
          }
        }
        DEF Zj Transform {
          translation -0.1469 -0.05878 1.385
          rotation 0.97098 -0.144597 -0.190496 4.532
          center 0 0 1.49e-08
          children DEF ak Transform {
            children DEF bk yf {
              B USE Li
              C [
                USE Zj
                USE ak
              ]
              point [ -0.7965 -0.8007 0, -0.7965 0 0, -0.7965 0.8007 0, -0.4399 1.45 0, 0 1.45 0, 0.4399 1.45 0, 0.7965 0.8007 0, 0.7965 0 0, 0.7965 -0.8007 0, 0.4399 -1.45 0, 0 -1.45 0, -0.4399 -1.45 0 ]
              zf [ 1, 0, 2, 1, 0, 2, 1, 0, 2, 1, 0, 2 ]
              Sd [ 0, 0.25, 0.5, 0.75, 1 ]
              Af [ 0 0, 0.3311 0.263, 0.5893 0.5, 0.7889 0.72, 1 1, 0 0, 0.2111 0.28, 0.4107 0.5, 0.6689 0.737, 1 1, 0 0, 0.3311 0.263, 0.5893 0.5, 0.7889 0.72, 1 1, 0 0, 0.2111 0.28, 0.4107 0.5, 0.6689 0.737, 1 1 ]
              Bf [ 0, 5, 10, 15 ]
              Cf TRUE
              scale 1.593 2.9 1
            }
          }
        }
        DEF ck Transform {
          translation 0.9488 0.05581 4.768e-07
          rotation 0 0 1 0.1762
          center -1.063 -0.7111 -0.02255
          children DEF dk Q {
            center -1.063 -0.7111 -0.02255
            U DEF ek o {
              B USE Li
              C [
                USE ck
                USE dk
                DEF rk Q {
                  center -1.063 -0.7111 -0.02255
                  U USE ek
                  children DEF sk Transform {
                    children [
                      USE ek
                      DEF tk ra {
                        cycleInterval 3
                        Da FALSE
                        Ia TRUE
                      }
                      DEF uk ra {
                        Da FALSE
                        Ia TRUE
                      }
                      DEF vk ra {
                        cycleInterval 12
                        Da FALSE
                        Ia TRUE
                      }
                      DEF wk hg {
                        U USE ek
                        offset 1.063 0.7111 0.02255
                        center -1.063 -0.7111 -0.02255
                        T FALSE
                      }
                      DEF xk yg {
                        Eg USE bk
                      }
                      DEF yk xe {
                        ye USE xk
                        ze USE vk
                        Ae USE ek
                        Ce 103
                      }
                    ]
                  }
                }
                USE sk
              ]
              children [
                DEF fk Transform {
                  translation -1.064 -0.7111 -0.02
                  children DEF gk Transform {
                    scale 0.02196 0.2431 0.02196
                    children DEF hk ga {
                      url ""
                      diffuseColor 0.38 0.38 0.38
                      emissiveColor 0.18 0.18 0.18
                      specularColor 1 0.86 0.46
                      shininess 0.23
                      B USE ek
                      C [
                        USE fk
                        USE gk
                      ]
                      geometry Box {
                        size 1 1 1
                      }
                    }
                  }
                }
                DEF ik Transform {
                  translation -1.063 -0.7072 -0.02
                  rotation 0 0 1 4.711
                  scaleOrientation 0 0 -1 0.120801
                  children DEF jk Transform {
                    scale 0.02196 0.2431 0.02196
                    children DEF kk ga {
                      url ""
                      diffuseColor 0.38 0.38 0.38
                      emissiveColor 0.18 0.18 0.18
                      specularColor 1 0.86 0.46
                      shininess 0.23
                      B USE ek
                      C [
                        USE ik
                        USE jk
                      ]
                      geometry Box {
                        size 1 1 1
                      }
                    }
                  }
                }
                DEF lk Transform {
                  translation -1.065 -0.7075 -0.02255
                  rotation 1 0 0 1.571
                  children DEF mk Transform {
                    scale 0.02196 0.2431 0.02196
                    children DEF nk ga {
                      url ""
                      diffuseColor 0.38 0.38 0.38
                      emissiveColor 0.18 0.18 0.18
                      specularColor 1 0.86 0.46
                      shininess 0.23
                      B USE ek
                      C [
                        USE lk
                        USE mk
                      ]
                      geometry Box {
                        size 1 1 1
                      }
                    }
                  }
                }
                DEF ok Transform {
                  translation -1.063 -0.7112 -0.02
                  children DEF pk Transform {
                    scale 0.1604 0.1604 0.1604
                    children DEF qk ga {
                      url ""
                      diffuseColor 0.38 0.38 0.38
                      emissiveColor 0.18 0.18 0.18
                      specularColor 1 0.86 0.46
                      shininess 0.23
                      B USE ek
                      C [
                        USE ok
                        USE pk
                      ]
                      geometry Sphere {
                        radius 0.5
                      }
                    }
                  }
                }
              ]
              A [
                USE hk
                USE kk
                USE nk
                USE qk
              ]
            }
            children USE rk
            W 2
          }
        }
        DEF zk Transform {
          translation 2.022 0.2389 1.5
          rotation -0.145494 0.989359 0 0.7418
          children DEF Ak Transform {
            children DEF Bk K {
              B USE Li
              C [
                USE zk
                USE Ak
              ]
              L 1.528
              attenuation 0.001 0.6545 0
            }
          }
        }
        DEF Ck Transform {
          children DEF Dk Transform {
            children [
              DEF Ek Ih {
                B USE Li
                C [
                  USE Ck
                  USE Dk
                ]
                url "tonerow3d_16_22.wav"
              }
              DEF Fk ra {
                cycleInterval 0.232925
                xa 0.232925
              }
              DEF Gk Nh {
                Oh USE Ek
                intensity 0.49
                duration 0.232925
              }
              DEF Hk ra {
                xa 1.268
              }
              DEF Ik Xh { }
              DEF Jk ra {
                cycleInterval 0.232925
                xa 0.232925
              }
              DEF Kk Nh {
                Oh USE Ek
                intensity 0.3
                duration 0.232925
              }
              DEF Lk ra {
                xa 1.268
              }
              DEF Mk Xh { }
              DEF Nk ra {
                cycleInterval 0.232925
                xa 0.232925
              }
              DEF Ok Nh {
                Oh USE Ek
                intensity 0.2
                duration 0.232925
              }
              DEF Pk ra {
                xa 1.268
              }
              DEF Qk Xh { }
              DEF Rk ra {
                cycleInterval 0.232925
                xa 0.232925
              }
              DEF Sk Nh {
                Oh USE Ek
                intensity 0.3
                duration 0.232925
              }
              DEF Tk ra {
                xa 1.268
              }
              DEF Uk Xh { }
              DEF Vk ra {
                cycleInterval 0.232925
                xa 0.232925
              }
              DEF Wk Nh {
                Oh USE Ek
                intensity 0.49
                duration 0.232925
              }
              DEF Xk ra {
                xa 1.268
              }
              DEF Yk Xh { }
              DEF Zk ra {
                cycleInterval 0.232925
                xa 0.232925
              }
              DEF al Nh {
                Oh USE Ek
                intensity 0.75
                duration 0.232925
              }
              DEF bl ra {
                xa 1.268
              }
              DEF cl Xh { }
              DEF dl ra {
                cycleInterval 0.232925
                xa 0.232925
              }
              DEF el Nh {
                Oh USE Ek
                duration 0.232925
              }
              DEF fl ra {
                xa 1.268
              }
              DEF gl Xh { }
            ]
          }
        }
        DEF hl Transform {
          translation -1.192e-07 -0.006944 0
          children DEF il Transform {
            scale 4.181 1.778 4.181
            children DEF jl Zh {
              url ""
              emissiveColor 0 0.09 0.15
              specularColor 0.5 0.5 0.5
              B USE Li
              C [
                USE hl
                USE il
              ]
              ai [ 4, 4 ]
              H FALSE
              diffuseColor 0 0 0
              choice 1
            }
          }
        }
      ]
      A [
        USE Oi
        USE Ri
        USE aj
        USE fj
        USE ij
        USE lj
        USE wj
        USE Sj
        USE Xj
        USE bk
        USE ek
        USE Bk
        USE Ek
        USE jl
      ]
    }
    DEF kl f { }
  ]
}

ROUTE kl.j TO Hi.h
ROUTE Wi.yb_changed TO Ti.set_enabled
ROUTE Vi.R_changed TO Ui.R
ROUTE Hi.i TO Vi.R
ROUTE Ui.stopTime TO Vi.S
ROUTE Ui.fraction TO Vi.set_fraction
ROUTE Ti.isOver TO Wi.qb
ROUTE Ti.isActive TO Wi.rb
ROUTE Ti.hitPoint_changed TO Wi.sb
ROUTE Ti.hitTexCoord_changed TO Wi.tb
ROUTE Qi.R_changed TO Xi.R
ROUTE Wi.exitTime TO Xi.S
ROUTE Wi.enterTime TO Qi.R
ROUTE Xi.stopTime TO Qi.S
ROUTE Xi.fraction TO Qi.set_fraction
ROUTE Zi.R_changed TO cj.R
ROUTE Hi.i TO Zi.R
ROUTE cj.stopTime TO Zi.S
ROUTE cj.fraction TO Zi.set_fraction
ROUTE rj.R_changed TO qj.R
ROUTE Hi.i TO rj.R
ROUTE qj.stopTime TO rj.S
ROUTE qj.va TO rj.set_od
ROUTE qj.fraction TO rj.set_fraction
ROUTE Jj.yb_changed TO uj.set_enabled
ROUTE Lj.yb_changed TO vj.set_enabled
ROUTE Lj.vb TO Jj.sa
ROUTE uj.isActive TO Jj.rb
ROUTE uj.rotation_changed TO Jj.ne
ROUTE uj.trackPoint_changed TO Jj.oe
ROUTE Lj.ub TO Kj.R
ROUTE Jj.stopTime TO Kj.S
ROUTE vj.isOver TO Lj.qb
ROUTE vj.isActive TO Lj.rb
ROUTE vj.hitPoint_changed TO Lj.sb
ROUTE vj.hitTexCoord_changed TO Lj.tb
ROUTE Nj.He TO Mj.R
ROUTE Mj.ua TO Nj.set_fraction
ROUTE Mj.va TO Nj.set_fraction
ROUTE Lj.vb TO Oj.R
ROUTE Mj.stopTime TO Oj.S
ROUTE Nj.Ie TO Oj.S
ROUTE Qj.R_changed TO Tj.R
ROUTE Hi.i TO Qj.R
ROUTE Tj.stopTime TO Qj.S
ROUTE Tj.va TO Qj.set_od
ROUTE Tj.fraction TO Qj.set_fraction
ROUTE Tj.fraction TO Qj.jf
ROUTE Vj.R_changed TO Yj.R
ROUTE Hi.i TO Vj.R
ROUTE Yj.stopTime TO Vj.S
ROUTE Yj.va TO Vj.set_od
ROUTE Yj.fraction TO Vj.set_fraction
ROUTE Yj.fraction TO Vj.jf
ROUTE dk.R_changed TO tk.R
ROUTE rk.R_changed TO uk.R
ROUTE xk.Dg TO vk.R
ROUTE xk.Bg TO wk.set_position
ROUTE vk.fraction TO xk.set_fraction
ROUTE Hi.i TO yk.R
ROUTE vk.stopTime TO yk.S
ROUTE vk.Ba TO yk.S
ROUTE Hi.i TO rk.R
ROUTE uk.stopTime TO rk.S
ROUTE uk.fraction TO rk.set_fraction
ROUTE Hi.i TO dk.R
ROUTE tk.stopTime TO dk.S
ROUTE tk.fraction TO dk.set_fraction
ROUTE Gk.startTime TO Fk.R
ROUTE vk.Aa TO Gk.R
ROUTE vk.startTime TO Gk.R
ROUTE Fk.stopTime TO Gk.S
ROUTE Fk.va TO Gk.set_intensity
ROUTE Fk.fraction TO Gk.set_fraction
ROUTE Ek.Jh TO Gk.Jh
ROUTE Ik.R_changed TO Hk.R
ROUTE Gk.stopTime TO Ik.R
ROUTE Hk.stopTime TO Ik.S
ROUTE Kk.startTime TO Jk.R
ROUTE Hk.stopTime TO Kk.R
ROUTE Jk.stopTime TO Kk.S
ROUTE Jk.va TO Kk.set_intensity
ROUTE Jk.fraction TO Kk.set_fraction
ROUTE Ek.Jh TO Kk.Jh
ROUTE Mk.R_changed TO Lk.R
ROUTE Kk.stopTime TO Mk.R
ROUTE Lk.stopTime TO Mk.S
ROUTE Ok.startTime TO Nk.R
ROUTE Lk.stopTime TO Ok.R
ROUTE Nk.stopTime TO Ok.S
ROUTE Nk.va TO Ok.set_intensity
ROUTE Nk.fraction TO Ok.set_fraction
ROUTE Ek.Jh TO Ok.Jh
ROUTE Qk.R_changed TO Pk.R
ROUTE Ok.stopTime TO Qk.R
ROUTE Pk.stopTime TO Qk.S
ROUTE Sk.startTime TO Rk.R
ROUTE Pk.stopTime TO Sk.R
ROUTE Rk.stopTime TO Sk.S
ROUTE Rk.va TO Sk.set_intensity
ROUTE Rk.fraction TO Sk.set_fraction
ROUTE Ek.Jh TO Sk.Jh
ROUTE Uk.R_changed TO Tk.R
ROUTE Sk.stopTime TO Uk.R
ROUTE Tk.stopTime TO Uk.S
ROUTE Wk.startTime TO Vk.R
ROUTE Tk.stopTime TO Wk.R
ROUTE Vk.stopTime TO Wk.S
ROUTE Vk.va TO Wk.set_intensity
ROUTE Vk.fraction TO Wk.set_fraction
ROUTE Ek.Jh TO Wk.Jh
ROUTE Yk.R_changed TO Xk.R
ROUTE Wk.stopTime TO Yk.R
ROUTE Xk.stopTime TO Yk.S
ROUTE al.startTime TO Zk.R
ROUTE Xk.stopTime TO al.R
ROUTE Zk.stopTime TO al.S
ROUTE Zk.va TO al.set_intensity
ROUTE Zk.fraction TO al.set_fraction
ROUTE Ek.Jh TO al.Jh
ROUTE cl.R_changed TO bl.R
ROUTE al.stopTime TO cl.R
ROUTE bl.stopTime TO cl.S
ROUTE el.startTime TO dl.R
ROUTE bl.stopTime TO el.R
ROUTE dl.stopTime TO el.S
ROUTE dl.va TO el.set_intensity
ROUTE dl.fraction TO el.set_fraction
ROUTE Ek.Jh TO el.Jh
ROUTE gl.R_changed TO fl.R
ROUTE el.stopTime TO gl.R
ROUTE fl.stopTime TO gl.S
ROUTE Hi.j TO kl.h

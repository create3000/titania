<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE X3D PUBLIC "ISO//Web3D//DTD X3D 3.3//EN" "http://www.web3d.org/specifications/x3d-3.3.dtd">
<X3D profile='Full' version='3.3' xmlns:xsd='http://www.w3.org/2001/XMLSchema-instance' xsd:noNamespaceSchemaLocation='http://www.web3d.org/specifications/x3d-3.3.xsd'>
  <head>
    <meta name='comment' content='World of Titania'/>
    <meta name='created' content='Sun, 06 Apr 2014 10:12:16 GMT'/>
    <meta name='creator' content='Holger Seelig'/>
    <meta name='generator' content='Titania V0.6.8, http://titania.create3000.de'/>
    <meta name='modified' content='Fri, 16 May 2014 23:49:22 GMT'/>
  </head>
  <Scene>
    <ExternProtoDeclare name='Grid' url='"Grid.wrl"'>
      <field accessType='inputOutput' type='SFNode' name='metadata'/>
      <field accessType='inputOutput' type='SFInt32' name='xDimension'/>
      <field accessType='inputOutput' type='SFFloat' name='xSpacing'/>
      <field accessType='inputOutput' type='SFInt32' name='zDimension'/>
      <field accessType='inputOutput' type='SFFloat' name='zSpacing'/>
      <field accessType='inputOutput' type='SFColor' name='color'/>
      <field accessType='inputOutput' type='SFFloat' name='transparency'/>
      <field accessType='initializeOnly' type='SFBool' name='solid'/>
    </ExternProtoDeclare>
    <ExternProtoDeclare name='OutlineEditorGrid' url='"OutlineEditorGrid.x3dv#Grid"'>
      <field accessType='inputOutput' type='SFNode' name='metadata'/>
      <field accessType='inputOutput' type='SFInt32' name='xDimension'/>
      <field accessType='inputOutput' type='SFFloat' name='xSpacing'/>
      <field accessType='inputOutput' type='SFInt32' name='zDimension'/>
      <field accessType='inputOutput' type='SFFloat' name='zSpacing'/>
      <field accessType='inputOutput' type='SFColor' name='color'/>
      <field accessType='inputOutput' type='SFFloat' name='transparency'/>
      <field accessType='initializeOnly' type='SFBool' name='solid'/>
    </ExternProtoDeclare>
    <ExternProtoDeclare name='Rotor' url='"http://titania.create3000.de/Library/Prototypes/0.1/Engines/Rotor.x3dv"'>
      <field accessType='inputOutput' type='SFNode' name='metadata'/>
      <field accessType='inputOutput' type='SFBool' name='enabled'/>
      <field accessType='inputOutput' type='SFTime' name='cycleInterval'/>
      <field accessType='inputOutput' type='SFVec3f' name='axis'/>
      <field accessType='inputOutput' type='SFFloat' name='angle'/>
      <field accessType='inputOutput' type='SFBool' name='loop'/>
      <field accessType='inputOutput' type='SFTime' name='startTime'/>
      <field accessType='inputOutput' type='SFTime' name='stopTime'/>
      <field accessType='outputOnly' type='SFBool' name='isActive'/>
      <field accessType='outputOnly' type='SFRotation' name='rotation_changed'/>
    </ExternProtoDeclare>
    <ExternProtoDeclare name='Rotor2' url='"http://titania.create3000.de/Library/Prototypes/0.1/Engines/Rotor.x3dv#Rotor"'>
      <field accessType='inputOutput' type='SFNode' name='metadata'/>
      <field accessType='inputOutput' type='SFBool' name='enabled'/>
      <field accessType='inputOutput' type='SFTime' name='cycleInterval'/>
      <field accessType='inputOutput' type='SFVec3f' name='axis'/>
      <field accessType='inputOutput' type='SFFloat' name='angle'/>
      <field accessType='inputOutput' type='SFBool' name='loop'/>
      <field accessType='inputOutput' type='SFTime' name='startTime'/>
      <field accessType='inputOutput' type='SFTime' name='stopTime'/>
      <field accessType='outputOnly' type='SFBool' name='isActive'/>
      <field accessType='outputOnly' type='SFRotation' name='rotation_changed'/>
    </ExternProtoDeclare>
    <ExternProtoDeclare name='RoundedRectangle2D' url='"http://titania.create3000.de/Library/Prototypes/0.1//Geometry2D/RoundedRectangle2D.x3dv"'>
      <field accessType='inputOutput' type='SFNode' name='metadata'/>
      <field accessType='inputOutput' type='SFFloat' name='cornerRadius'/>
      <field accessType='inputOutput' type='SFVec2f' name='size'/>
      <field accessType='initializeOnly' type='SFBool' name='solid'/>
    </ExternProtoDeclare>
    <ExternProtoDeclare name='Torus' url='"../../../Titania/share/titania/Prototypes/0.1/Geometry3D/Torus.x3dv", "file:///usr/share/titania/Prototypes/0.1/Geometry3D/Torus.x3dv", "http://titania.create3000.de/Library/Prototypes/0.1/Geometry3D/Torus.x3dv"'>
      <field accessType='inputOutput' type='SFNode' name='metadata'/>
      <field accessType='inputOutput' type='SFFloat' name='minorRadius'/>
      <field accessType='inputOutput' type='SFFloat' name='majorRadius'/>
      <field accessType='inputOutput' type='SFInt32' name='minorDimension'/>
      <field accessType='inputOutput' type='SFInt32' name='majorDimension'/>
      <field accessType='initializeOnly' type='SFBool' name='solid'/>
    </ExternProtoDeclare>
    <ProtoDeclare name='Children1'>
      <ProtoInterface>
        <field accessType='inputOutput' type='SFNode' name='metadata'/>
        <field accessType='inputOutput' type='SFNode' name='node'>
          <Transform DEF='_1'/>
        </field>
        <field accessType='inputOutput' type='MFNode' name='children1'/>
      </ProtoInterface>
      <ProtoBody>
        <ProtoDeclare name='Children2'>
          <ProtoInterface>
            <field accessType='inputOutput' type='SFNode' name='metadata'/>
            <field accessType='inputOutput' type='MFNode' name='children2'/>
          </ProtoInterface>
          <ProtoBody>
            <Transform>
              <IS>
                <connect nodeField='children' protoField='children2'/>
              </IS>
            </Transform>
          </ProtoBody>
        </ProtoDeclare>
        <ProtoInstance name='Children2'>
          <IS>
            <connect nodeField='children2' protoField='children1'/>
          </IS>
        </ProtoInstance>
      </ProtoBody>
    </ProtoDeclare>
    <NavigationInfo DEF='None'
        transitionType='"ANIMATE"'/>
    <Background DEF='Sunset'
        skyAngle='0.8, 1.2, 1.5, 1.55, 1.5708'
        skyColor='0.0196078 0.0196078 0.0196078, 0.054902 0.0705882 0.0862745, 0.203922 0.243137 0.313726, 0.541176 0.462745 0.435294, 0.745098 0.541176 0.376471, 0.890196 0.537255 0.172549'
        groundColor='0 0 0'/>
    <Viewpoint DEF='Viewpoint1'
        description='OutlineEditor'
        position='0.0128284 4.06347 14.364'
        orientation='0.765117 0.626719 0.147711 5.86671'
        centerOfRotation='4.26786 -1.47502 -1.62472'/>
    <ProtoInstance name='Grid'>
      <fieldValue name='xDimension' value='40'/>
      <fieldValue name='zDimension' value='40'/>
    </ProtoInstance>
    <Transform DEF='Sensors'
        translation='8.69733 0 -12.5955'
        rotation='0 -1 0 0.476176'
        scale='-1.01808 1.09117 1.09117'
        center='3.20255 0 -1.19209e-07'>
      <ProximitySensor DEF='_2'
          size='2 2 2'/>
      <VisibilitySensor
          size='2 2 2'
          center='10 0 0'/>
    </Transform>
    <ProtoInstance name='Rotor' DEF='Rotor'>
      <fieldValue name='metadata'>
        <MetadataDouble/>
      </fieldValue>
      <fieldValue name='cycleInterval' value='10'/>
      <fieldValue name='angle' value='1.5708'/>
      <fieldValue name='loop' value='true'/>
    </ProtoInstance>
    <ProtoInstance name='Rotor2' DEF='Rotor2'>
      <fieldValue name='cycleInterval' value='10'/>
      <fieldValue name='loop' value='true'/>
    </ProtoInstance>
    <ImageTexture/>
    <Transform DEF='Inline'
        translation='5.51299 0.468949 1'
        scale='0.329804 0.329803 1'
        center='-1.99912 -0.520307 0'>
      <Inline DEF='_3'
          url='"Inline.wrl"'/>
    </Transform>
    <Transform DEF='MirrorText'
        translation='0.673213 -0.0752815 0'
        scale='1 -1 1'>
      <Shape>
        <Appearance>
          <Material
              transparency='0.57'/>
        </Appearance>
        <Text DEF='Text'
            string='"OutlineEditor"'>
          <FontStyle
              family='"PT Sans Narrow"'
              style='BOLD'/>
        </Text>
      </Shape>
    </Transform>
    <Transform DEF='SnapTarget'
        translation='6.84977 0 -2.30566'>
      <Inline
          url='"SnapTarget.x3dv", "file:///home/holger/Projekte/Titania/Library/Tests/Handles/SnapTarget.x3dv"'/>
    </Transform>
    <Group>
      <ProximitySensor USE='_2'/>
      <Transform DEF='Box'
          translation='1.40843 1.10727 0.193803'
          rotation='0 0 1 3.16999'
          scale='0.2 0.2 0.2'>
        <Transform>
          <Shape>
            <Appearance>
              <Material
                  diffuseColor='0.8 0 0'/>
            </Appearance>
            <Box/>
          </Shape>
        </Transform>
      </Transform>
    </Group>
    <Transform DEF='Sphere'
        translation='2.22045 1.17457 6.31221e-08'
        scale='0.208036 0.208036 -0.208036'>
      <Transform
          translation='0.233169 0.268277 0'>
        <Shape>
          <Appearance>
            <Material
                diffuseColor='0 0.8 0'/>
            <ImageTexture
                url='"../../../Titania/share/titania/Library/Textures/People/Lena.jpg", "file:///home/holger/Projekte/Titania/Titania/share/titania/Library/Textures/People/Lena.jpg"'
                repeatS='false'
                repeatT='false'/>
          </Appearance>
          <Sphere DEF='_4'/>
        </Shape>
      </Transform>
    </Transform>
    <Switch DEF='Yellow'
        whichChoice='0'>
      <MetadataBoolean/>
      <Transform DEF='RoundedRectangle2D'
          translation='2.91175 1.50513 0'
          rotation='-1.53721e-06 -3.8065e-06 1 2.13845'
          scale='0.17606 0.17606 0.2'
          scaleOrientation='2.51231e-12 -7.65059e-12 1 0.117763'>
        <Transform>
          <Shape>
            <Appearance>
              <Material
                  diffuseColor='0 0 0.8'/>
            </Appearance>
            <ProtoInstance name='RoundedRectangle2D' containerField='geometry'>
              <fieldValue name='size' value='4 2'/>
            </ProtoInstance>
          </Shape>
        </Transform>
      </Transform>
      <Transform DEF='Torus'
          translation='2.17447 1.89024 0.073832'
          rotation='1 3.62462e-06 9.55666e-10 1.60984'
          scale='0.17211 0.17211 0.17211'>
        <Shape>
          <Appearance>
            <Material
                diffuseColor='0.540268 0.186765 0'/>
          </Appearance>
          <ProtoInstance name='Torus' containerField='geometry'/>
        </Shape>
      </Transform>
    </Switch>
    <LOD
        center='1 0 0'>
      <Transform DEF='Text1'
          translation='0.673213 0.0817185 0'>
        <Shape>
          <Appearance>
            <Material/>
          </Appearance>
          <Text USE='Text'/>
        </Shape>
      </Transform>
    </LOD>
    <Anchor
        description='Reload Now'
        url='"OutlineEditor.wrl"'>
      <Transform
          translation='4.41306 2.06142 0'
          scale='0.1 0.1 0.1'>
        <Shape>
          <Appearance>
            <Material
                ambientIntensity='0.25'
                diffuseColor='0.282435 0.0851587 0.134462'
                specularColor='0.276305 0.11431 0.139857'
                shininess='0.127273'/>
          </Appearance>
          <Sphere USE='_4'/>
        </Shape>
      </Transform>
    </Anchor>
    <Collision DEF='sss'>
      <ProtoInstance name='Children1'>
        <fieldValue name='children1'>
          <Transform DEF='Cylinder'
              translation='4.36274 1.14674 0'
              scale='0.18003 0.18003 0.18003'>
            <Shape>
              <Appearance>
                <Material/>
              </Appearance>
              <Cylinder/>
            </Shape>
          </Transform>
          <Transform DEF='Cone1'
              translation='3.31329 0.997151 0'
              scale='0.197378 0.197378 0.197378'>
            <Shape>
              <Appearance>
                <Material/>
              </Appearance>
              <Cone/>
            </Shape>
          </Transform>
        </fieldValue>
      </ProtoInstance>
    </Collision>
    <Billboard>
      <Transform DEF='Cone'
          translation='-1.66427 0.177755 0'
          scale='0.327988 0.327988 0.327988'>
        <Shape>
          <Appearance>
            <Material DEF='Spring14'
                ambientIntensity='0.258064'
                diffuseColor='0.453686 0.462806 0.613468'
                specularColor='0.101243 0.093899 0.0914149'
                shininess='0.0432432'/>
          </Appearance>
          <Cone/>
        </Shape>
      </Transform>
    </Billboard>
    <ScreenGroup>
      <Transform DEF='Cone2'
          translation='-100 0 0'
          scale='20 20 20'>
        <Shape>
          <Appearance>
            <Material
                diffuseColor='0 1 0.00483249'/>
          </Appearance>
          <Cone/>
        </Shape>
      </Transform>
    </ScreenGroup>
    <Transform DEF='ScreenText'
        translation='0.673213 2.19 0'>
      <Shape>
        <Appearance>
          <Material/>
        </Appearance>
        <Text DEF='Text2'
            string='"modified...", "Do 15 Mai 2014 17:26:12 CEST"'>
          <ScreenFontStyle
              family='"SANS"'
              style='BOLD'/>
        </Text>
      </Shape>
    </Transform>
    <Shape>
      <Appearance>
        <Material
            diffuseColor='1 0 0.833392'/>
      </Appearance>
      <Sphere
          radius='0.1'/>
    </Shape>
    <ProximitySensor
        size='1 1 1'
        center='-1.03768 0 -2.93338'/>
    <VisibilitySensor
        size='1 1 1'
        center='3.77007 0 -2.89052'/>
    <Viewpoint DEF='Viewpoint2'
        description='OutlineEditor'
        position='0.307405 1.46693 4.56711'
        orientation='0.563368 0.806068 0.181301 5.84917'
        centerOfRotation='1.83783 -0.942352 -0.631597'/>
    <TextureTransform DEF='_5'/>
    <TextureTransform USE='_5'/>
    <Script DEF='ModifiedScript'>
      <field accessType='outputOnly' type='MFString' name='string_changed'/>
<![CDATA[javascript:
function initialize ()
{
	var modified = Browser .currentScene .getMetaData ("modified");
	var date = new Date (Date .parse (modified));
	string_changed = new MFString ("modified...", date .toLocaleString ());
}]]> 
    </Script>
    <Transform DEF='EXPORT'
        translation='8.97635 0 0'>
      <Inline DEF='_6'
          url='"../Basic/EXPORT.wrl", "file:///home/holger/Projekte/Titania/Library/Tests/Basic/EXPORT.wrl"'/>
    </Transform>
    <Transform DEF='InlineClone'
        translation='-0.887374 6.52114 -10.5515'
        scale='2.4824 3.23682 2.16343'>
      <Inline
          url='"../Basic/Clone.wrl", "file:///home/holger/Projekte/Titania/Library/Tests/Basic/Clone.wrl"'/>
    </Transform>
    <IMPORT inlineDEF='_6' exportedDEF='CubeExport'/>
    <IMPORT inlineDEF='_3' exportedDEF='Text' AS='ImportedInline'/>
    <ROUTE fromNode='Rotor' fromField='rotation_changed' toNode='Box' toField='set_rotation'/>
    <ROUTE fromNode='Sensors' fromField='translation_changed' toNode='Inline' toField='set_translation'/>
    <ROUTE fromNode='Rotor2' fromField='pauseTime_changed' toNode='Rotor2' toField='set_resumeTime'/>
    <ROUTE fromNode='ModifiedScript' fromField='string_changed' toNode='Text2' toField='set_string'/>
    <ROUTE fromNode='Rotor2' fromField='rotation_changed' toNode='ImportedInline' toField='set_rotation'/>
    <EXPORT localDEF='Rotor'/>
  </Scene>
</X3D>

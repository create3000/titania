#X3D V3.3 utf8 Titania V0.7.5

META "comment" "World of Titania"
META "created" "Tue, 28 Oct 2014 06:07:32 GMT"
META "creator" "Holger Seelig"
META "generator" "Titania V0.7.5, http://titania.create3000.de"
META "modified" "Wed, 29 Oct 2014 03:17:51 GMT"
META "title" "ProximitySensor"

WorldInfo {
  metadata MetadataSet {
    name "Titania"
    value [
      MetadataSet {
        name "AngleGrid"
        value MetadataBoolean {
          name "enabled"
          value FALSE
        }
      }
      MetadataSet {
        name "Grid"
        value MetadataBoolean {
          name "enabled"
          value TRUE
        }
      }
    ]
  }
  title "TransformSensor"
}

DEF Gray_1 Background {
  skyColor 0.2 0.2 0.2
}

Viewpoint {
  description "Home"
  position 3.53822 6.47456 9.91409
  orientation -0.865931 0.497792 0.048654 0.742544
  centerOfRotation -0.326972 -0.553913 1.15801
}

Transform {
  children [
    Group {
      children [
        DEF _1 TimeSensor {
          cycleInterval 30
          loop TRUE
        }
        DEF _2 PositionInterpolator {
          key [
            0,
            1
          ]
          keyValue [
            -5 0 0,
            5 0 0
          ]
        }
        DEF Box Transform {
          translation -4.86527 0 0
          rotation 0 -1 0 1.5708
          scale 4 3 2
          children Shape {
            appearance Appearance {
              material Material { }
            }
            geometry Box {
              size 1 1 1
            }
          }
        }
      ]
    }
    DEF _3 TransformSensor {
      size 2 1 1
      center 1 0 0
      targetObject USE Box
    }
    DEF TransformSensorBox Transform {
      translation 1 0 0
      scale 2 1 1
      children Shape {
        appearance Appearance {
          material Material {
            diffuseColor 0 1 0
            transparency 0.5
          }
        }
        geometry Box {
          size 1 1 1
        }
      }
    }
  ]
}

DEF _4 Script {
  inputOnly SFTime     set_enterTime
  inputOnly SFTime     set_exitTime
  inputOnly SFBool     set_active
  inputOnly SFVec3f    set_position
  inputOnly SFRotation set_orientation

  url "javascript:

function set_enterTime (value)
{
	print (\"enterTime: \", value)
}

function set_exitTime (value)
{
	print (\"exitTime: \", value)
}

function set_active (value)
{
	print (\"isActive: \", value)
}

function set_position (value)
{
	print (\"position: \", value)
}

function set_orientation (value)
{
	print (\"orientation: \", value)
}

"
}

ROUTE _1.fraction_changed TO _2.set_fraction
ROUTE _2.value_changed TO Box.set_translation
ROUTE _3.enterTime TO _4.set_enterTime
ROUTE _3.exitTime TO _4.set_exitTime
ROUTE _3.isActive TO _4.set_active
ROUTE _3.position_changed TO _4.set_position
ROUTE _3.orientation_changed TO _4.set_orientation
ROUTE TransformSensorBox.scale_changed TO _3.set_size
ROUTE _3.size_changed TO TransformSensorBox.set_scale
ROUTE TransformSensorBox.translation_changed TO _3.set_center
ROUTE _3.center_changed TO TransformSensorBox.set_translation

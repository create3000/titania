#VRML V2.0 utf8 Titania V1.2.2

WorldInfo {
  metadata DEF Titania MetadataSet {
    name "Titania"
    reference "http://titania.create3000.de"
    value [
      DEF NavigationInfo MetadataSet {
        name "NavigationInfo"
        reference "http://titania.create3000.de"
        value DEF type MetadataString {
          name "type"
          reference "http://titania.create3000.de"
          value "EXAMINE"
        }
      }
      DEF Viewpoint MetadataSet {
        name "Viewpoint"
        reference "http://titania.create3000.de"
        value [
          DEF position MetadataDouble {
            name "position"
            reference "http://titania.create3000.de"
            value [
              0,
              0,
              10
            ]
          }
          DEF orientation MetadataDouble {
            name "orientation"
            reference "http://titania.create3000.de"
            value [
              0,
              0,
              1,
              0
            ]
          }
          DEF centerOfRotation MetadataDouble {
            name "centerOfRotation"
            reference "http://titania.create3000.de"
            value [
              0,
              0,
              0
            ]
          }
        ]
      }
      DEF Selection MetadataSet {
        name "Selection"
        reference "http://titania.create3000.de"
        value DEF children MetadataSet {
          name "children"
          reference "http://titania.create3000.de"
          value DEF _1 Sound { }
        }
      }
    ]
  }
  title "MovieTexture"
}

Background {
  skyColor 0.2 0.2 0.2
}

Viewpoint {
  description "Home"
}

DEF MovieTexture Transform {
  children Shape {
    appearance Appearance {
      material Material { }
      texture DEF Movie MovieTexture {
        url [
          "https://cdn.rawgit.com/create3000/Library/master/Examples/Vattenfall/stage/film6.mp4",
          "https://cdn.rawgit.com/create3000/Library/master/Examples/Vattenfall/stage/film6.mpv"
        ]
        #loop TRUE
        startTime 1452512631.64944
        stopTime 1452512633.83991
        repeatS FALSE
        repeatT FALSE
      }
    }
    geometry Rectangle2D {
      size 2.66667 2
      solid FALSE
    }
  }
}

Transform {
  translation -1 -3 0
  scale 0.2 0.2 0.2
  children [
    DEF Play TouchSensor {
      description "play"
    }
    Shape {
      appearance Appearance {
        material Material {
          diffuseColor 0 1 0
        }
      }
      geometry Box { }
    }
  ]
}

Transform {
  translation -0.33 -3 0
  scale 0.2 0.2 0.2
  children [
    DEF Pause TouchSensor {
      description "pause"
    }
    Shape {
      appearance Appearance {
        material Material {
          diffuseColor 1 1 0
        }
      }
      geometry Box { }
    }
  ]
}

Transform {
  translation 0.33 -3 0
  scale 0.2 0.2 0.2
  children [
    DEF Resume TouchSensor {
      description "resume"
    }
    Shape {
      appearance Appearance {
        material Material {
          diffuseColor 0 0 1
        }
      }
      geometry Box { }
    }
  ]
}

Transform {
  translation 1 -3 0
  scale 0.2 0.2 0.2
  children [
    DEF Stop TouchSensor {
      description "stop"
    }
    Shape {
      appearance Appearance {
        material Material {
          diffuseColor 1 0 0
        }
      }
      geometry Box { }
    }
  ]
}

Transform {
  translation -1 -2 0
  scale 0.2 0.2 0.2
  children [
    DEF Speed1 TouchSensor { }
    DEF SpeedButton Shape {
      appearance Appearance {
        material Material {
          diffuseColor 1 1 0
        }
      }
      geometry Box { }
    }
  ]
}

Transform {
  translation -0.33 -2 0
  scale 0.2 0.2 0.2
  children [
    DEF Speed2 TouchSensor { }
    USE SpeedButton
  ]
}

Transform {
  translation 0.33 -2 0
  scale 0.2 0.2 0.2
  children [
    DEF Speed3 TouchSensor { }
    USE SpeedButton
  ]
}

Transform {
  translation 1 -2 0
  scale 0.2 0.2 0.2
  children [
    DEF Speed4 TouchSensor { }
    USE SpeedButton
  ]
}

Transform {
  translation -2 -2 0
  scale 0.2 0.2 0.2
  children [
    DEF Speed0 TouchSensor { }
    USE SpeedButton
  ]
}

DEF Debug Script {
  eventIn  SFTime  set_speed0
  eventIn  SFTime  set_speed1
  eventIn  SFTime  set_speed2
  eventIn  SFTime  set_speed3
  eventIn  SFTime  set_speed4
  eventIn  SFBool  set_active
  eventIn  SFTime  set_elapsedTime
  eventIn  SFTime  set_duration
  eventOut SFFloat speed_changed

  url "vrmlscript:
function set_speed (value)
{
	//print ('speed: ', value);
	speed_changed = value;
}

function set_speed0 ()
{
	set_speed (0);
}

function set_speed1 ()
{
	set_speed (-4);
}

function set_speed2 ()
{
	set_speed (-1);
}

function set_speed3 ()
{
	set_speed (1);
}

function set_speed4 ()
{
	set_speed (4);
}
  
function set_active (value)
{
	print ('isActive: ', value)
}	

function set_elapsedTime (value)
{
	//print ('elapsedTime: ', value);
}

function set_duration (value)
{
	print ('duration: ', value);
}
	"
}

USE _1

ROUTE Speed0.touchTime TO Debug.set_speed0
ROUTE Speed1.touchTime TO Debug.set_speed1
ROUTE Speed2.touchTime TO Debug.set_speed2
ROUTE Speed3.touchTime TO Debug.set_speed3
ROUTE Speed4.touchTime TO Debug.set_speed4
ROUTE Debug.speed_changed TO Movie.set_speed
ROUTE Play.touchTime TO Movie.set_startTime
ROUTE Pause.touchTime TO Movie.set_pauseTime
ROUTE Resume.touchTime TO Movie.set_resumeTime
ROUTE Stop.touchTime TO Movie.set_stopTime
ROUTE Movie.isActive TO Debug.set_active
ROUTE Movie.elapsedTime TO Debug.set_elapsedTime
ROUTE Movie.duration_changed TO Debug.set_duration

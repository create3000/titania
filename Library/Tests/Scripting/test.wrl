#VRML V2.0 utf8 Titania

META "title" "Scripting test"

EXTERNPROTO SFFloatConverter [
  eventOut     SFFloat value_changed
  exposedField MFNode  children
]
"../../Prototypes/Converter/SFFloatConverter/SFFloatConverter.wrl"

DEF Timer TimeSensor {
  loop TRUE
}

DEF SFFloatConverter SFFloatConverter {
	children SFFloatConverter {}
}

DEF Debug1 Script {
  eventIn SFTime  set_time
  field   SFNode  self USE Debug1
  field   MFInt32 a1 [ 1, 2, 3 ]
  field   MFVec3f a2 [ 1 2 3, 1 2 3 ]
  field   MFInt32 a3 1
  field   MFVec3f a4 1 2 3
  field   SFNode data Transform {}

  url "vrmlscript:
function initialize ()
{
	print ('initialize1');
	
	for each (var fieldDefinition in Browser .currentScene .getNamedNode ('SFFloatConverter') .getFieldDefinitions ())
		print (fieldDefinition .name);
	
	print (data instanceof SFNode);
	
	print (data .getName ());
}

function set_time (value)
{
}

function shutdown ()
{
	print ('shutdown1');
}
"
}

ROUTE Timer.cycleTime TO Debug1.set_time

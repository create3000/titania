#VRML V2.0 utf8 Titania

# Comment

META "title" "Scripting test"

Shape {
  geometry PointSet {
    coord DEF Circle Coordinate {
      point [
        -0.0135119 0.405078 0.914182,
        0.536901 -0.136566 0.832519,
        -0.148371 0.635312 0.757869,
        0.331713 0.350083 0.876018,
        -0.476541 -0.227777 0.849133,
        0.656465 0.21261 0.723775,
        -0.663512 0.0820111 0.743657,
        0.490788 -0.446666 0.748075,
        0.481812 0.294116 0.825441,
        0.023505 0.205611 0.978351
      ]
    }
  }
}

DEF Script Script {
  field SFNode circle USE Circle

  url "vrmlscript:
function initialize ()
{
	circle .point .length = 0;

	for (var i = 0; i < 10; ++ i)
		circle .point [circle .point .length] = vector (Math .PI / 4);
}

function vector (angle)
{
	var theta = Math .random () * 2 * Math .PI;
	var cphi  = random (Math .cos (angle), 1);
	var phi   = Math .acos (cphi);
	var r     = Math .sin (phi);

	return new SFVec3f (Math .sin (theta) * r,
	                    Math .cos (theta) * r,
	                    cphi);
}

function random (min, max)
{
	return min + Math .random () * (max - min);
}
"
  directOutput TRUE
}

DEF Sphere Transform {
  children Shape {
    appearance Appearance {
      material Material {
        transparency 0.6
      }
    }
    geometry Sphere { }
  }
}

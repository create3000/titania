#VRML V2.0 utf8

PROFILE Interchange

COMPONENT PointingDeviceSensor : 1
COMPONENT Scripting : 1

META "title" "Scene"

EXTERNPROTO ExternProto []
"ExternProto.wrl"

PROTO Test [
	field SFBool name TRUE
]
{
  Group { }
}

DEF Touch TouchSensor { }

Shape {
  appearance Appearance {
    material Material { }
  }
  geometry Box { }
}

DEF Debug Script {
  eventIn SFTime set_time

  url "vrmlscript:

function set_time ()
{
	print ();
	print ('+ Scene +++++++++++++++++++++++++++++++++++++++++++++++');	
	print ('+++++++++++++++++++++++++++++++++++++++++++++++++++++++');

	var scene = Browser .currentScene;

	print ();
	print (scene);

	print ();
	print ('specificationVersion: ' + scene .specificationVersion);	
	print ('encoding:             ' + scene .encoding);	
	print ('worldURL:             ' + scene .worldURL);

	print ('profile:              ' + scene .profile);
	print ('components:           ' + scene .components);

	for (var i in scene .components)
		print ('\t' + scene .components [i] .name);

	print ('externprotos:         ' + scene .externprotos);

	var externprotos = scene .externprotos;

	for (var i in externprotos)
	{
		print ('\t' + 'name:           ' + externprotos [i] .name);
		print ('\t' + 'fields:         ' + externprotos [i] .fields);
		
		var fields = externprotos [i] .fields;
		
		for (var f in fields)
		{
			print ('\t\t' + 'name:       ' + fields [f] .name);
			print ('\t\t' + 'accessType: ' + fields [f] .accessType);
			print ('\t\t' + 'dataType:   ' + fields [f] .dataType);
		}
		
		print ('\t' + 'urls:           ' + externprotos [i] .urls);
		print ('\t' + 'isExternProto:  ' + externprotos [i] .isExternProto);
		print ('\t' + 'loadState:      ' + externprotos [i] .loadState);
		
		externprotos [i] .loadNow ();

		print ('\t' + 'loadState:      ' + externprotos [i] .loadState);
		print ('\t' + 'createInstance: ' + externprotos [i] .newInstance ());
	}

	print ('protos:              ' + scene .protos);

	var protos = scene .protos;

	for (var i in protos)
	{
		print ('\t' + 'name:           ' + protos [i] .name);
		print ('\t' + 'fields:         ' + protos [i] .fields);
		
		var fields = protos [i] .fields;
		
		for (var f in fields)
		{
			print ('\t\t' + 'name:       ' + fields [f] .name);
			print ('\t\t' + 'accessType: ' + fields [f] .accessType);
			print ('\t\t' + 'dataType:   ' + fields [f] .dataType);
		}
		
		print ('\t' + 'isExternProto:  ' + protos [i] .isExternProto);
		print ('\t' + 'createInstance: ' + protos [i] .newInstance ());
	}

	print ();
	print ('createNode:           ' + scene .createNode ('Transform'));
	print ('createProto:          ' + scene .createProto ('Test'));

	print ('+++++++++++++++++++++++++++++++++++++++++++++++++++++++');	
}
"
}

ROUTE Touch.touchTime TO Debug.set_time

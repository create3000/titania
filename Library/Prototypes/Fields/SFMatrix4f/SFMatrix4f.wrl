#VRML V2.0 utf8

PROTO SFMatrix4f [
  exposedField SFMatrix4f keyValue 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1
  exposedField SFTime     startTime 0
  eventOut     SFMatrix4f value_changed
]
{
  PROTO Fields [
    exposedField SFMatrix4f keyValue 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 1
    exposedField SFTime     startTime 0
  ]
  {
    Group { }
  }

  DEF Fields Fields {
    keyValue IS keyValue
    startTime IS startTime
  }

  DEF SFMatrix4f Script {
    eventIn  SFTime     set_startTime
    eventOut SFMatrix4f value_changed IS value_changed
    field    SFNode     fields USE Fields

    url "vrmlscript:
function initialize ()
{
	if (fields .startTime)
		set_startTime (0, 0);
}

function set_startTime (value, time)
{
	value_changed = fields .keyValue;
}
"
    directOutput TRUE
  }

  ROUTE Fields.startTime_changed TO SFMatrix4f.set_startTime
}



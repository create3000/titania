#VRML V2.0 utf8

META "icon" "../../ui/icons/icon-bw.svg"
META "title" "about:date"

Inline {
  url "library/background.wrl"
}

Transform {
  children Shape {
    appearance Appearance {
      material Material {
        diffuseColor 0 0 0
      }
    }
    geometry DEF Time Text {
      string "Mi 19 Feb 2014 09:41:00 CET"
      length 10
      fontStyle FontStyle {
        family [ "Ubuntu Mono", "TYPEWRITER" ]
        style "BOLD"
        size 0.735
        justify "MIDDLE"
      }
    }
  }
}

DEF Timer TimeSensor {
  loop TRUE
}

DEF RandomText Script {
  eventIn SFTime set_time
  field   SFNode time USE Time

  url "vrmlscript:
function set_time (value)
{
	time .string = new MFString (new Date (value * 1000) .toLocaleString ());
}
"
  directOutput TRUE
}

ROUTE Timer.cycleTime TO RandomText.set_time
